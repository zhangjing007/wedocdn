/*!
 * LMV v7.51.0
 * 
 * Copyright 2021 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.ScalarisSimulation=function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=556)}({2:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var n=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}));return[i].concat(s).concat([n]).join("\n")}var a;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(o[s]=!0)}for(n=0;n<t.length;n++){var a=t[n];"number"==typeof a[0]&&o[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},3:function(t,e,i){var o,n,s={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=o.apply(this,arguments)),n}),r=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var o=r.call(this,t,i);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),d=null,h=0,u=[],c=i(5);function p(t,e){for(var i=0;i<t.length;i++){var o=t[i],n=s[o.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](o.parts[a]);for(;a<o.parts.length;a++)n.parts.push(_(o.parts[a],e))}else{var r=[];for(a=0;a<o.parts.length;a++)r.push(_(o.parts[a],e));s[o.id]={id:o.id,refs:1,parts:r}}}}function g(t,e){for(var i=[],o={},n=0;n<t.length;n++){var s=t[n],a=e.base?s[0]+e.base:s[0],r={css:s[1],media:s[2],sourceMap:s[3]};o[a]?o[a].parts.push(r):i.push(o[a]={id:a,parts:[r]})}return i}function f(t,e){var i=l(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===t.insertAt)o?o.nextSibling?i.insertBefore(e,o.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=l(t.insertAt.before,i);i.insertBefore(e,n)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return i.nc}();o&&(t.attrs.nonce=o)}return A(e,t.attrs),f(t,e),e}function A(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function _(t,e){var i,o,n,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var a=h++;i=d||(d=v(e)),o=x.bind(null,i,a,!1),n=x.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",A(e,t.attrs),f(t,e),e}(e),o=k.bind(null,i,e),n=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),o=C.bind(null,i),n=function(){m(i)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=g(t,e);return p(i,e),function(t){for(var o=[],n=0;n<i.length;n++){var a=i[n];(r=s[a.id]).refs--,o.push(r)}t&&p(g(t,e),e);for(n=0;n<o.length;n++){var r;if(0===(r=o[n]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete s[r.id]}}}};var b,y=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,i,o){var n=i?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var s=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function C(t,e){var i=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function k(t,e,i){var o=i.css,n=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||s)&&(o=c(o)),n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([o],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}},5:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,o=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var n,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(n=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:o+s.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},556:function(t,e,i){"use strict";i.r(e),i.d(e,"ScalarisSimulation",(function(){return h}));i(557);var o=Autodesk.Viewing,n=o.Private;o.DefaultSettings.lightPreset=4;var s=o.getGlobal().document;function a(t,e){for(var i,o,n,s,a,r,l,d,h=t.length-1,u=0;u<h+1;++u)if(e<=(u+1)/h)return i=t[u],o=t[u+1],n=h*e-u,s=void 0,a=void 0,r=void 0,l=void 0,d=void 0,s=parseInt(i.replace(/#/g,""),16),a=s>>16,r=s>>8&255,l=255&s,d=parseInt(o.replace(/#/g,""),16),"#"+((1<<24)+(a+n*((d>>16)-a)<<16)+(r+n*((d>>8&255)-r)<<8)+(l+n*((255&d)-l))|0).toString(16).slice(1);return null}function r(t,e,i,o){var n=(this&&this.getDocument&&this.getDocument()||s).createElement(t);if(e&&(n.className=e),i&&(n.textContent=i),o)for(var a=0,r=o.length;a<r;++a)n.appendChild(o[a]);return n}function l(t){var e=t.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return{r:parseInt(e[1],16)/255,g:parseInt(e[2],16)/255,b:parseInt(e[3],16)/255}}function d(t,e){o.Extension.call(this,t,e),this._autoShowTooltip=!0,this._ignoreCameraChanged=!1,this._tooltip=null,this._tooltipText=null,this._tooltipBar=null,this._tooltipArrow=null,this._styleSheet=null,this._eventClientY=0,this._moveAnimationRequestId=null,this._simulationMode="fos",this._colorMap=[],this._colorRange=[],this._skip=!1,this._onToolbarCreated=this._onToolbarCreated.bind(this),this._onGeometryLoaded=this._onGeometryLoaded.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._onCameraChanged=this._onCameraChanged.bind(this),this._defaultFormatter=this._defaultFormatter.bind(this),this._config={formatterVms:this._defaultFormatter,unitsVms:"Pa",formatterFos:this._defaultFormatter,multiple:!1,min:null,max:null}}d.prototype=Object.create(o.Extension.prototype),o.EventDispatcher.prototype.apply(d.prototype),d.prototype.constructor=d,d.Events={SCALARIS_SIMULATION_MODE_CHANGED:"Autodesk.Viewing.ScalarisSimulation.Event.ModeChanged"},d.prototype.load=function(){var t=this.viewer,e=t.model.loader,i=e.svf;if(!e||!i)return!1;if(!(e instanceof n.ScalarisLoader))return o.Private.logger.warn("No scalaris loader available for extension","Autodesk.Viewing.ScalarisSimulation"),!1;if(e.basePath.endsWith("models/")&&(this._config.min=0,this._config.max=15,t.targetFos=1,t.yieldStrength=24e7,this._skip=!0),i.stressData){var s=[],a=[];t.yieldStrength?(t.targetFos||(t.targetFos=1),null===this._config.min&&(this._config.min=0),null===this._config.max&&(this._config.max=15),s=[l("#009BE8"),l("#00B50B"),l("#00B50B"),l("#FC4E4E")],a=[40,20,40]):(this._simulationMode="vms",s=[l("#FC4E4E"),l("#00B50B"),l("#009BE8")],a=[50,50]),this._colorMap=function(t,e,i,o){var n=[],s=e.length;if(void 0===e||!s)return n;if(1===s)for(var a=0;a<t;a++)n[3*a]=e[0].r,n[3*a+1]=e[0].g,n[3*a+2]=e[0].b;else{for(var r=s-1,l=0,d=0;d<r;d++){var h=Math.floor(t*(i[d]/100));d===r-1&&(h=t-l);for(var u=d,c=d+1,p=d===r-1?t-l:h,g=3*l,f=0;f<p;f++){var m=f/p;n[g+3*f]=e[u].r+m*(e[c].r-e[u].r),n[g+3*f+1]=e[u].g+m*(e[c].g-e[u].g),n[g+3*f+2]=e[u].b+m*(e[c].b-e[u].b)}l+=h,o[d]=l-1}n[3*(t-1)]=e[r].r,n[3*(t-1)+1]=e[r].g,n[3*(t-1)+2]=e[r].b}return n}(256,s,a,this._colorRange),t.toolbar?this._createUI():t.addEventListener(o.TOOLBAR_CREATED_EVENT,this._onToolbarCreated),this._onGeometryLoaded(),t.addEventListener(o.GEOMETRY_LOADED_EVENT,this._onGeometryLoaded)}var r=o.Private.LightPresets[o.DefaultSettings.lightPreset];return r.E_bias=-1.5,r.tonemap=1,r.lightMultiplier=2.2973967099940698,t.setQualityLevel(!1,t.impl.renderer().getAntialiasing()),t.impl.setLightPreset(o.DefaultSettings.lightPreset,!0),t.setBackgroundColor(255,255,255,255,255,255),!0},d.prototype.unload=function(){return this.setDisplayResult(!1),this._legendContainer&&(this.viewer.container.removeChild(this._legendContainer),this.viewer.settingsTools.removeControl("toolbar-simulation")),this.viewer.removeEventListener(o.GEOMETRY_LOADED_EVENT,this._onGeometryLoaded),!0},d.prototype.setDisplayResult=function(t){var e=this.viewer.impl.getMaterials().defaultMaterial;e&&(this._legendContainer&&(this._legendContainer.hidden=!t),this._simulationButton&&(t?(this._simulationButton.setIcon("adsk-toolbar-view-modelIcon"),this._simulationButton.setToolTip(o.i18n.translate("Model View"))):(this._simulationButton.setIcon("adsk-toolbar-view-stress-referenceIcon"),this.viewer.yieldStrength?this._simulationButton.setToolTip(o.i18n.translate("Stress View")):this._simulationButton.setToolTip(o.i18n.translate("Von Mises stress")))),t&&this._autoShowTooltip&&(this.viewer.addEventListener(o.CAMERA_CHANGE_EVENT,this._onCameraChanged),this._handleMouseMove()),e.vertexColors=t?THREE.VertexColors:THREE.NoColors,e.needsUpdate=!0,this.viewer.impl.invalidate(!0,!0,!1))},d.prototype.setRange=function(t,e){if(!this._skip){var i=this.viewer,o=i.model.getGeometryList().geoms[1];if(o){var n=i.model.loader.svf,s=n.stressData;if(s){var a=s.length;if(a){var r=this._colorMap.length/3;if(0!==r&&(void 0===t&&(t=n.stressMin),void 0===e&&(e=n.stressMax),t!==e)){var d,h,u=new Float32Array(3*a);if("vms"===this._simulationMode)for(var c=e-t,p=0;p<a;p++)d=(s[p]-t)/c,h=Math.floor((1-d)*(r-1)),u[3*p]=this._colorMap[3*h],u[3*p+1]=this._colorMap[3*h+1],u[3*p+2]=this._colorMap[3*h+2];else if("fos"===this._simulationMode){var g,f=15,m=i.targetFos+2;if(m>15&&(f=2*i.targetFos),i.yieldStrength&&(t=i.yieldStrength/n.stressMax,e=i.yieldStrength/n.stressMin),isFinite(t)&&!isNaN(t)||(t=0),(!isFinite(e)||isNaN(e)||e>f)&&(e=f),t>=15||e<1||t>=i.targetFos&&e<=m){g=l(t>=15?"#009BE8":e<1?"#FC4E4E":"#00B50B");for(p=0;p<a;p++)u[3*p]=g.r,u[3*p+1]=g.g,u[3*p+2]=g.b}else{var v=1/0,A=-1/0;t>e&&(t=[e,e=t][0]),t<v&&(v=t),e>A&&(A=e),g=l("#00B50B");for(p=0;p<a;p++){var _;if(i.yieldStrength&&(_=i.yieldStrength/s[p]),!isFinite(_)||_>f?_=f:isNaN(_)&&(_=0),_>=i.targetFos&&_<=m)u[3*p]=g.r,u[3*p+1]=g.g,u[3*p+2]=g.b;else{if(_<i.targetFos){var b=this._colorRange[2]-this._colorRange[1],y=Math.abs(_-i.targetFos),x=Math.abs(v-i.targetFos);d=this._colorRange[1]+y*b/x,(h=Math.floor(d))>this._colorRange[2]&&(h=this._colorRange[2])}else if(_>m){b=this._colorRange[0];d=(y=Math.abs(_-i.targetFos-2))*b/(x=Math.abs(A-i.targetFos-2)),(h=b-Math.floor(d))<0&&(h=0)}u[3*p]=this._colorMap[3*h],u[3*p+1]=this._colorMap[3*h+1],u[3*p+2]=this._colorMap[3*h+2]}}}}u&&u.byteLength&&(o.addAttribute("color",new THREE.BufferAttribute(new Float32Array(u),3)),o.hasColors=!0,o.colorsNeedUpdate=!0)}}}}}},d.prototype.setConfiguration=function(t){var e=this._config;if((e=Object.assign(e,t||{})).formatterVms||(e.formatterVms=this._defaultFormatter),e.unitsVms||(e.unitsVms="Pa"),e.formatterFos||(e.formatterFos=this._defaultFormatter),t.formatterVms||t.formatterFos||t.min||t.max||t.unitsVms){if("vms"===this._simulationMode&&t.unitsVms)this._legendContainer.getElementsByClassName("adsk-legend-title")[0].textContent=o.i18n.translate("Units Stress",{units:t.unitsVms});else"fos"===this._simulationMode&&this.setRange(0,15);this.forceLegendUpdate()}},d.prototype.setSimulationMode=function(t){this._simulationMode=t},d.prototype.getSimulationMode=function(){return this._simulationMode},d.prototype.forceLegendUpdate=function(){this._setLegendLabels(),this._handleMouseMove()},d.prototype._setLegendLabels=function(){"vms"===this._simulationMode?(this._minTitle.textContent=o.i18n.translate("Min"),this._maxTitle.textContent=o.i18n.translate("Max")):"fos"===this._simulationMode&&(this._minTitle.textContent=o.i18n.translate("Low"),this._midTitle.textContent=o.i18n.translate("Ideal"),this._maxTitle.textContent=o.i18n.translate("High"))},d.prototype._defaultFormatter=function(t){return"vms"===this._simulationMode&&Number.isFinite(Number(t))?Number.parseFloat(t).toExponential(2):t.toString()},d.prototype._onToolbarCreated=function(){this.viewer.removeEventListener(o.TOOLBAR_CREATED_EVENT,this._onToolbarCreated),this._createUI()},d.prototype._onGeometryLoaded=function(){this.setRange(),this._setLegendLabels();var t=this._legendContainer&&!this._legendContainer.hidden;if(this.setDisplayResult(t),t&&this._autoShowTooltip){this._ignoreCameraChanged=!0;var e=this;setTimeout((function(){e._ignoreCameraChanged=!1,e.viewer.addEventListener(o.CAMERA_CHANGE_EVENT,e._onCameraChanged)}),500)}},d.prototype._onCameraChanged=function(){this._ignoreCameraChanged||(this._autoShowTooltip&&(this._tooltip.classList.remove("adsk-legend-tooltip-active"),this._autoShowTooltip=!1),this.viewer.removeEventListener(o.CAMERA_CHANGE_EVENT,this._onCameraChanged))},d.prototype._onMouseMove=function(t){this._eventClientY=t.clientY,this._autoShowTooltip&&(this._tooltip.classList.remove("adsk-legend-tooltip-active"),this._autoShowTooltip=!1),this._moveAnimationRequestId||(this._moveAnimationRequestId=requestAnimationFrame(this._handleMouseMove))},d.prototype._handleMouseMove=function(){if(this._moveAnimationRequestId=null,this._colorScale){var t=this._colorScale.getBoundingClientRect(),e=t.height;if(e){var i=t.top,n=t.bottom,s=Math.min(Math.max(0,this._eventClientY-i),e),r=!1,l=!1;Math.abs(i-this._eventClientY)<8&&(s=0,r=!0),Math.abs(n-this._eventClientY)<8&&(s=e,l=!0),this._autoShowTooltip&&(s=e/2,r=!1,l=!1);var d=this._config;this._tooltip.style.top=(d.multiple?s:s+7)+"px";var h=this.viewer.model.loader.svf,u=null!=d.min?d.min:h.stressMin,c=null!=d.max?d.max:h.stressMax,p=s/e;"vms"===this._simulationMode&&(p=1-p);var g,f,m,v,A=u+(c-u)*p,_=this,b=[];"vms"===this._simulationMode?this.viewer.yieldStrength?b.push(E("adsk-legend-tooltip-title",o.i18n.translate("Stress reference"))):b.push(E("adsk-legend-tooltip-title",o.i18n.translate("Von Mises stress"))):"fos"===this._simulationMode&&(A>9?(m="Low Stress",v="Stress in these regions is lower than required"):A>=6&&A<=9?(m="Ideal Stress",v="Stress in these regions is the most performant"):A<6&&(m="High Stress",v="Stress in these regions should be noted and may require attention"),b.push(E("adsk-legend-tooltip-title",o.i18n.translate("Stress Status",{status:m})))),b.push(M()),b.push(M()),g="adsk-legend-tooltip-value",f="vms"===this._simulationMode?d.formatterVms(c):void 0,r&&(g+=" adsk-legend-tooltip-highlight","vms"===this._simulationMode&&(f=o.i18n.translate("Max Value",{max:f}),b.push(E(g,f)))),r||l||"vms"!==this._simulationMode||b.push(E("adsk-legend-tooltip-value adsk-legend-tooltip-highlight",d.formatterVms(A))),g="adsk-legend-tooltip-value","vms"===this._simulationMode?f=d.formatterVms(u):"fos"===this._simulationMode&&(f=this._defaultFormatter(u.toFixed(2))),f="vms"===this._simulationMode?d.formatterVms(u):void 0,l&&(g+=" adsk-legend-tooltip-highlight","vms"===this._simulationMode&&(f=o.i18n.translate("Min Value",{min:f}),b.push(E(g,f)))),g="adsk-legend-tooltip-value","fos"===this._simulationMode&&(b.push(E(g,o.i18n.translate("Stress Text",{statusText:v}))),b.push(M()));for(var y,x=this._tooltipText;x.hasChildNodes();)x.removeChild(x.lastChild);for(var C=0,k=b.length;C<k;++C)x.appendChild(b[C]);"vms"===this._simulationMode?y=a(["#009BE8","#00B50B","#FC4E4E"],p):"fos"===this._simulationMode&&(y=a(["#009BE8","#00B50B","#FC4E4E"],1-p)),y&&(this._tooltipBar.style.background=y,this._styleSheet.cssRules.length&&this._styleSheet.deleteRule(0),this._styleSheet.insertRule(".adsk-legend-tooltip-arrow::after {border-left-color:"+y+"}",0))}}function E(t,e){return _._createElement("span",t,e)}function M(){return _._createElement("br")}},d.prototype._createUI=function(){var t=this.viewer,e=t.model.loader.svf,i=e.loadOptions,n=t.settingsTools;this._createElement=r.bind(this);var s=this.getDocument();if(i){if(e.stressData&&e.stressData.byteLength){this._legendContainer=s.createElement("div"),this._legendContainer.classList.add("adsk-legend-container");var a=s.createElement("div");t.yieldStrength?a.textContent=o.i18n.translate("Stress reference"):a.textContent=o.i18n.translate("Von Mises stress (Pa)"),a.classList.add("adsk-legend-title");var l=s.createElement("div");l.classList.add("adsk-legend-scale-container"),this._colorScale=s.createElement("div"),this._colorScale.classList.add("adsk-legend-color-scale");var d=s.createElement("div");d.classList.add("adsk-legend-label-container"),this._maxLabel=s.createElement("div"),this._maxLabel.classList.add("adsk-legend-max-label"),this._minLabel=s.createElement("div"),this._minLabel.classList.add("adsk-legend-min-label");var h=s.createElement("div");h.classList.add("adsk-legend-title-container"),this._maxTitle=s.createElement("div"),this._maxTitle.classList.add("adsk-legend-max-title"),this._midTitle=s.createElement("div"),this._midTitle.classList.add("adsk-legend-mid-title"),this._minTitle=s.createElement("div"),this._minTitle.classList.add("adsk-legend-min-title"),this._createTooltip(this._colorScale);var u=s.createElement("div");u.classList.add("adsk-legend-title-tooltip"),t.yieldStrength?u.textContent=o.i18n.translate("Displays the distribution of stress based on the factor of safety value set in the Objectives and Limits dialog in the Define workspace."):u.textContent=o.i18n.translate("Displays the distribution of von Mises stress on the surface of the generated outcome."),a.appendChild(u),d.appendChild(this._maxLabel),d.appendChild(this._minLabel),h.appendChild(this._maxTitle),h.appendChild(this._midTitle),h.appendChild(this._minTitle),l.appendChild(d),l.appendChild(this._colorScale),l.appendChild(h),this._legendContainer.appendChild(a),this._legendContainer.appendChild(l);var c=t.getExtension("Autodesk.ViewCubeUi");c=c&&c.container,t.container.insertBefore(this._legendContainer,c),this._simulationButton=new o.UI.Button("toolbar-simulation"),t.yieldStrength?this._simulationButton.setToolTip(o.i18n.translate("Stress View")):this._simulationButton.setToolTip(o.i18n.translate("Von Mises stress")),this._simulationButton.setIcon("adsk-toolbar-view-stress-referenceIcon");var p=this;this._simulationButton.onClick=function(){p._legendContainer&&p.setDisplayResult(p._legendContainer.hidden)},n.addControl(this._simulationButton,{index:t.settingsTools.getNumberOfControls()})}else o.Private.logger.warn("No simulation data available to view for extension","Autodesk.Viewing.ScalarisSimulation");this.setDisplayResult(!1)}},d.prototype._createTooltip=function(t){var e=this;function i(t,i){return e._createElement("div",t,null,i)}this._tooltipArrow=i("adsk-legend-tooltip-arrow"),this._tooltipBar=i("adsk-legend-tooltip-bar"),this._tooltipText=i("adsk-legend-tooltip-text"),this._tooltip=i("adsk-legend-tooltip",[i("adsk-legend-tooltip-box",[this._tooltipText,this._tooltipBar]),this._tooltipArrow]),this._autoShowTooltip&&this._tooltip.classList.add("adsk-legend-tooltip-active"),this._tooltip.style.top="0",t.appendChild(this._tooltip),t.onmousemove=this._onMouseMove;var o=this.getDocument(),n=o.createElement("style");n.appendChild(o.createTextNode("")),o.head.appendChild(n),this._styleSheet=n.sheet};var h=d;o.theExtensionManager.registerExtension("Autodesk.Viewing.ScalarisSimulation",d)},557:function(t,e,i){var o=i(558);"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,n);o.locals&&(t.exports=o.locals)},558:function(t,e,i){(t.exports=i(2)(!1)).push([t.i,'/*! Â© 2018 Autodesk Inc. All rights reserved */.adsk-legend-container{top:370px;right:20px;height:calc(100% - 400px);position:absolute;min-height:100px}.adsk-legend-title{height:20px;font-size:12px;font-weight:bold;color:#0c0e10}.adsk-legend-title:hover>.adsk-legend-title-tooltip{display:block}.adsk-legend-title-tooltip{width:200px;position:absolute;right:0;border-radius:3px;padding:4px;text-align:left;font-size:11px;font-weight:initial;line-height:1.2;box-shadow:0 1px 3px rgba(0,0,0,0.3);transform:translate(0, calc(-100% - 20px));color:#f4f4f4;background:#4a4a4a;display:none}.adsk-legend-scale-container{position:relative;height:calc(100% - 80px);margin-left:36px}.adsk-legend-container.fos-enabled .adsk-legend-color-scale{background:linear-gradient(to bottom, #009BE8, #00B50B, #FC4E4E);margin:0 11px 0 4px}.adsk-legend-container.fos-enabled .adsk-legend-max-label{color:#009BE8}.adsk-legend-container.fos-enabled .adsk-legend-min-label{color:#FC4E4E}.adsk-legend-color-scale{position:relative;display:inline-block;background:linear-gradient(to bottom, #FC4E4E, #00B50B, #009BE8);width:20px;height:calc(100% + 6px)}.adsk-legend-tooltip{display:none;position:absolute;right:28px;transform:translate(0, calc(-60%));pointer-events:none;border:1px solid #9B9B9B;border-radius:4px;width:152px}.adsk-legend-tooltip-box{flex-grow:1;display:flex;overflow:hidden}.adsk-legend-tooltip-min-fos{font-size:14px;right:30px}.adsk-legend-tooltip-text{flex-grow:1;padding:10px;background-color:#9B9B9B;color:#FFFFFF;font-size:11px}.adsk-legend-tooltip-title{font-size:16px}.adsk-legend-tooltip-highlight{color:#FFFFFF;font-size:20px}.adsk-legend-tooltip-value{line-height:1.5}.adsk-legend-tooltip-bar{width:10px;flex-shrink:0;background-color:black}.adsk-legend-tooltip-arrow{display:inline-block;position:relative}.adsk-legend-tooltip-arrow:after,.adsk-legend-tooltip-arrow:before{content:\'\';display:block;position:absolute;left:100%;width:0;height:0;border-style:solid}.adsk-legend-tooltip-arrow:after{border-color:transparent transparent transparent red;border-width:8px;top:50%;margin-top:-8px}.adsk-legend-tooltip-arrow:before{border-color:transparent transparent transparent #9B9B9B;border-width:9px;top:50%;margin-top:-9px}.adsk-legend-color-scale:hover .adsk-legend-tooltip{display:flex}.adsk-legend-tooltip.adsk-legend-tooltip-active{display:flex}.adsk-legend-label-container{display:inline-block;height:100%;position:relative}.adsk-legend-min-label{text-align:right;font-size:14px;white-space:nowrap;color:#009BE8}.adsk-legend-max-label{height:calc(100% - 20px);text-align:right;font-size:14px;white-space:nowrap;color:#FC4E4E}.adsk-legend-title-container{display:inline-block;height:100%;position:relative}.adsk-legend-min-title{margin-left:5px;font-size:14px;color:#009BE8}.adsk-legend-mid-title{height:calc(50%);margin-left:5px;font-size:14px;color:#00B50B}.adsk-legend-max-title{height:calc(50%);margin-left:5px;font-size:14px;color:#FC4E4E}.adsk-legend-container.fos-enabled .adsk-legend-max-title{visibility:hidden}.adsk-legend-container.fos-enabled .adsk-legend-mid-title{visibility:hidden}.adsk-legend-container.fos-enabled .adsk-legend-min-title{visibility:hidden}.adsk-toolbar-view-modelIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAIVBMVEUAAADy8vLq6urg4eTFytS8ws60u8nX2d7O0tnO0djX2t8Cek8BAAAAAXRSTlMAQObYZgAAAHFJREFUGNONzb0JgDAQhmFHOP9tzQaSCYQsYJEBbK63OnACU9rFCVzTs/iEgIJv91ZP9rf8DlMYY/rXKa21A6YVWRdMF0LcMZVzbsTU3vsJ0zDz/KCI4BgtHaBWI6AichLQLR6BgDqNgHqNgLJGKfrdBQMqIVD88IvJAAAAAElFTkSuQmCC")}.adsk-toolbar-analysis-displayIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAASFBMVEUAAADy8vLy8vLy8vJ/+3B3+Z3Y61H8vyT53T7+oQp1986r8mBy8vv+iA91989ryftqyPtjn/us82Gr8mF4+p2s8mH6cif7cicZkx5RAAAAA3RSTlMA9uuPSLkVAAAAn0lEQVQoz63QSw7DIAwE0CTYBgzkA/3c/6adpEJKIasqI7GZJwvwcGtMzdjCtsZZmdm0sETURNRBnFGHp3Sg6IuI6wADWZy1HTAF9N5fgvUpXYA4wKuDn4zjNE3txDt564TYtHckgIQzlO+rPAbOoBg5/mHRF2KtcGxk/7kTyUQ8m3ZXksPexwpr3S4Os8a1woa9Kz/Y4KjGZavQZ/gnH1ycB4VVIzRSAAAAAElFTkSuQmCC")}.adsk-toolbar-view-stressIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAeFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////y8vJ3+p1/+3Cr82B198/8vyT53T7+oQrZ61HY6lFy8vv+iA9ryftqyPtjn/v////6cid09s77cie/h+lKAAAAFXRSTlMA+XApC+re0r2VWUsixbWloXRrQBf0begMAAAAyklEQVQoz53R2Q6CMBAF0GFRQXGX0r1s6v//ocMULMqL8SYlcE9amhZ+zDVK8bmJl7LaAdz6hN7Ld/DjmANs1+Cha50QjDEEKk/5CI3DuqqqAdIooeUInMCaczsAZOckSkeg3hhFEGfxAQJwq6QkKKL9ZQLfa00Am76YgZG6rhF8AhiFcF/AMt8znrWWylYsALf0jxrB8A8wtCs9TJiB8CJL6XsxAxSrSmVxoQDhrAyn3k3Quoc/XRwM+3aCrhnvA4cQrukmWAb+yQsyihxX5vJMsQAAAABJRU5ErkJggg==")}.adsk-toolbar-view-fosIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAATlBMVEUAAAD////////////////////////y8vJ3+p1/+3DY61F198/8vySr8mD+oQr53T9y8ftryfus82H9iA/53D7+iA9jn/v7cidz8vtz8fu6p5NCAAAAB3RSTlMATP3tEI4Bd24LZQAAAKpJREFUKM+dkd0OwjAIRv2pUiilrls3ff8XFVfD3DoT43fVnJNCgMPPOZ40lz1xtidYtmLs7iF47xvR3RQjIlgPV4VyxJjp/cM5d61i5kRDU0pFpsTcCI9RuciuYOl7MGSCBpYyNaLN8iNpqQmmXngg9LDqUQoUFRTXQpsIiHD6FEHNPAdXHqqwyRMkooyLWHZFOb74DbbbRcXKO7B7POo9vGLlI3wf8J88AQnTC+OPTK0hAAAAAElFTkSuQmCC")}.adsk-toolbar-view-stress-referenceIcon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAMAAABFjsb+AAAAQlBMVEUAAAD///8AsDQAqmcfqBM5nhpTkyEApJsFswyHfi9tiCgAns8Am+ihczYGsw0Fsw27aTxUkyLVXkO8aT2idDahdDYBsfjeAAAAAXRSTlMAQObYZgAAAJBJREFUGNNl0FkOhCAQBFB7wwYFdJb7X3UKJjFtrM+XSnpZ6MpyhfZ9W0WYo4EgrUcb5KoabZJZutmglEo01CyVnG+G2plrjcZNUfsc0Z5Bz0evHvR613KaM0waxub6paPmkrQzhbkZZNoFtnL771cGOU8T7vOOZGixrBTuNdXGArv+4uTeB20U/sdTth32zA+qLgW6ibQIVwAAAABJRU5ErkJggg==")}\n',""])}});
//# sourceMappingURL=ScalarisSimulation.min.js.map