/*! For license information please see Pushpins.min.js.LICENSE.txt */
(()=>{var e={47649:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(87537),s=i.n(n),o=i(23645),a=i.n(o),r=i(61667),A=i.n(r),l=new URL(i(11539),i.b),u=new URL(i(24459),i.b),h=new URL(i(89133),i.b),c=a()(s()),d=A()(l),p=A()(u),f=A()(h);c.push([e.id,"@font-face{font-family:'issueicon';src:url("+d+");font-weight:normal;font-style:normal}[class^=\"issueicon-\"],[class*=\" issueicon-\"]{font-family:'issueicon';font-style:normal;font-weight:normal;font-variant:normal;line-height:1;padding-top:2px;speak:none;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@font-face{font-family:'rfiicon';src:url("+p+");font-weight:normal;font-style:normal}[class^=\"rfiicon-\"],[class*=\" rfiicon-\"]{font-family:'rfiicon';font-style:normal;font-weight:normal;font-variant:normal;line-height:1;padding-top:2px;speak:none;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@font-face{font-family:'fieldissueicon';src:url("+f+');font-weight:normal;font-style:normal}[class^="fieldissueicon-"],[class*=" fieldissueicon-"]{font-family:\'fieldissueicon\';font-style:normal;font-weight:normal;font-variant:normal;line-height:1;padding-top:2px;speak:none;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.issueicon-issue_hide:before{content:"\\e915"}.issueicon-issue_normal:before{content:"\\e916"}.rfiicon-rfi_hide:before{content:"\\e003"}.rfiicon-rfi_normal:before{content:"\\e002"}.fieldissueicon-issue_hide:before{content:"\\e002"}.fieldissueicon-issue_normal:before{content:"\\e001"}.leaflet-text-label{display:inherit;font-family:\'HelveticaNeue-bold\';font-style:normal;font-weight:normal;font-variant:normal;line-height:0;pointer-events:none;text-align:center;font-size:16px;border-radius:.5em;max-width:auto;min-width:60px;height:32px;position:absolute;background-color:rgba(0,0,0,0.7);color:#FFF;border:2px solid white}.leaflet-marker-icon.leaflet-pin-icon{width:40px}.leaflet-text-label span{display:inline-block;vertical-align:middle;line-height:32px;white-space:pre}.leaflet-pushpin-hidden{visibility:hidden}#toolbar-pushpinVis,#toolbar-pushpinRfisVis,#toolbar-pushpinFieldIssuesVis{border:none}.pushpin-billboard-marker{position:absolute;font-size:10px;font-weight:bold;width:22px;height:22px;left:0;top:0;line-height:16px;text-align:center;cursor:pointer;pointer-events:none;color:#1757a8;border:4px solid rgba(255,255,255,0.95);background:#4675A8 no-repeat center;background-size:16px;border-radius:15px;opacity:1;transition:opacity 0.4s;-webkit-transition:opacity 0.4s;will-change:transform}.rfi-billboard-marker{position:absolute;font-size:10px;font-weight:bold;width:22px;height:22px;line-height:16px;text-align:center;cursor:pointer;pointer-events:none;left:0;top:0;color:#1757a8;border:4px solid rgba(255,255,255,0.95);background:#4675A8 no-repeat center;background-size:16px;border-radius:3px;opacity:1;transition:opacity 0.4s;-webkit-transition:opacity 0.4s;will-change:transform}.pushpin-billboard-marker.selected{border:5px solid rgba(255,255,255,0.95);border-radius:20px;background-size:20px;z-index:1;top:-3px;width:28px;height:28px;left:-3px}.rfi-billboard-marker.selected{border:5px solid rgba(255,255,255,0.95);border-radius:4px;background-size:20px;z-index:1;top:-3px;width:28px;height:28px;left:-3px}.pushpin-billboard-marker.grey-out{background-color:#919191 !important;opacity:0.5 !important;cursor:not-allowed}.rfi-billboard-marker.grey-out{background-color:#919191 !important;opacity:0.5 !important;cursor:not-allowed}.pushpin-container{will-change:transform;transform:translateZ(0);left:0;top:0;position:absolute}\n',"",{version:3,sources:["webpack://./extensions/Pushpins/PushPinExtension.css"],names:[],mappings:"AACA,WACI,uBAAwB,CACxB,2CAAs0E,CACt0E,kBAAmB,CACnB,iBAAkB,CAAA,6CAIlB,uBAAwB,CACxB,iBAAkB,CAClB,kBAAmB,CACnB,mBAAoB,CACpB,aAAc,CACd,eAAgB,CAChB,UAAW,CACX,mBAAoB,CAIpB,kCAAmC,CACnC,iCAAkC,CACrC,WAGG,qBAAsB,CACtB,2CAAsyH,CACtyH,kBAAmB,CACnB,iBAAkB,CAAA,yCAIlB,qBAAsB,CACtB,iBAAkB,CAClB,kBAAmB,CACnB,mBAAoB,CACpB,aAAc,CACd,eAAgB,CAChB,UAAW,CACX,mBAAoB,CAIpB,kCAAmC,CACnC,iCAAkC,CACrC,WAGG,4BAA6B,CAC7B,2CAAsuD,CACtuD,kBAAmB,CACnB,iBAAkB,CAAA,uDAIlB,4BAA6B,CAC7B,iBAAkB,CAClB,kBAAmB,CACnB,mBAAoB,CACpB,aAAc,CACd,eAAgB,CAChB,UAAW,CACX,mBAAoB,CAIpB,kCAAmC,CACnC,iCAAkC,CACrC,6BAGG,eAAgB,CACnB,+BAEG,eAAgB,CACnB,yBAGG,eAAgB,CACnB,2BAEG,eAAgB,CACnB,kCAGG,eAAgB,CACnB,oCAEG,eAAgB,CACnB,oBAGG,eAAgB,CAChB,gCAAiC,CACjC,iBAAkB,CAClB,kBAAmB,CACnB,mBAAoB,CACpB,aAAc,CACd,mBAAoB,CAGpB,iBAAkB,CAClB,cAAe,CACf,kBAAmB,CACnB,cAAc,CACd,cAAe,CACf,WAAY,CACZ,iBAAiB,CACjB,gCAAgC,CAChC,UAAW,CACX,sBAAuB,CAC1B,sCAGG,UAAW,CACd,yBAGG,oBAAqB,CACrB,qBAAsB,CACtB,gBAAgB,CAChB,eAAgB,CACnB,wBAGG,iBAAkB,CACrB,2EAIG,WAAY,CACf,0BAKG,iBAAkB,CAClB,cAAe,CACf,gBAAiB,CACjB,UAAW,CACX,WAAY,CAEZ,MAAO,CACP,KAAM,CAEN,gBAAiB,CACjB,iBAAkB,CAClB,cAAe,CACf,mBAAoB,CAEpB,aAA6B,CAC7B,uCAA2C,CAC3C,mCAAoC,CACpC,oBAAqB,CACrB,kBAAmB,CAEnB,SAAU,CACV,uBAAwB,CACxB,+BAAgC,CAGhC,qBAAsB,CACzB,sBAGG,iBAAkB,CAClB,cAAe,CACf,gBAAiB,CACjB,UAAW,CACX,WAAY,CACZ,gBAAiB,CACjB,iBAAkB,CAClB,cAAe,CACf,mBAAoB,CAEpB,MAAO,CACP,KAAM,CAEN,aAA6B,CAC7B,uCAA2C,CAC3C,mCAAoC,CACpC,oBAAqB,CACrB,iBAAkB,CAElB,SAAU,CACV,uBAAwB,CACxB,+BAAgC,CAGhC,qBAAsB,CACzB,mCAGG,uCAA2C,CAC3C,kBAAmB,CACnB,oBAAqB,CACrB,SAAU,CACV,QAAS,CACT,UAAW,CACX,WAAY,CACZ,SAAU,CACb,+BAIG,uCAA2C,CAC3C,iBAAkB,CAClB,oBAAqB,CACrB,SAAU,CACV,QAAS,CACT,UAAW,CACX,WAAY,CACZ,SAAU,CACb,mCAGG,mCAA+C,CAC/C,sBAAuB,CACvB,kBAAmB,CACtB,+BAGG,mCAA+C,CAC/C,sBAAuB,CACvB,kBAAmB,CACtB,mBAGG,qBAAsB,CACtB,uBAAwB,CACxB,MAAO,CACP,KAAM,CACN,iBAAkB",sourcesContent:['/*<editor-fold desc="ISSUES">*/\n@font-face {\n    font-family: \'issueicon\';\n    src: url(data:application/font-woff;charset=utf-8;base64,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);\n    font-weight: normal;\n    font-style: normal;\n}\n\n[class^="issueicon-"], [class*=" issueicon-"] {\n    font-family: \'issueicon\';\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    line-height: 1;\n    padding-top: 2px;\n    speak: none;\n    text-transform: none;\n\n\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n@font-face {\n    font-family: \'rfiicon\';\n    src: url(data:application/font-woff;charset=utf-8;base64,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);\n    font-weight: normal;\n    font-style: normal;\n}\n\n[class^="rfiicon-"], [class*=" rfiicon-"] {\n    font-family: \'rfiicon\';\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    line-height: 1;\n    padding-top: 2px;\n    speak: none;\n    text-transform: none;\n\n\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n@font-face {\n    font-family: \'fieldissueicon\';\n    src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUAAA0AAAAAByQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAE5AAAABwAAAAcfzoDmUdERUYAAATIAAAAGwAAAB4AJwALT1MvMgAAAZwAAABKAAAAYC+xTDxjbWFwAAAB+AAAAEQAAAFKwBQjvWdhc3AAAATAAAAACAAAAAj//wADZ2x5ZgAAAkgAAAFeAAABhPocpV5oZWFkAAABMAAAADAAAAA2DEAuiWhoZWEAAAFgAAAAHAAAACQEIwIFaG10eAAAAegAAAAQAAAAEgYAAABsb2NhAAACPAAAAAwAAAAMAFgAwm1heHAAAAF8AAAAHgAAACAATgBKbmFtZQAAA6gAAADjAAAB47FU88Bwb3N0AAAEjAAAADIAAABR2shGr3icY2BkYGAA4uk3ErPi+W2+MnAzMYDAVZ+8TjB9te4fkGJnYmAE0RwMYGkALxEKOXicY2BkYGD8wsDAoMfEAAJAkpEBFbAAACM+AS54nGNgZGBgYGVwZ2BnAAEmIGZkAIk5gPkMAApQAJkAAHicY2BmYmCcwMDKwMHow5jGwMDgDqW/MkgytDAwMDGwcjLAgQCCyRCQ5prC4PCA8QET44P/Dxj0GL/8/wIUZkRSosDACAAr1Q1fAAB4nGNigAAmKGZgAAAAVgAHeJzdisEJwDAQw+RLyRR59NlBuv8M2STxpaWQFSowRiCg8Kwhktum5QeXv/pFQI8xMujKP+PtjSqfyGXWG+L3TGW0BrEAAAAAAAAAAABYAMJ4nG2PvU7CUBiGv4+fcyhwSiH0HAg/ASptKLQ1LaVoDTHGOOjohAnizwW46AU4GBNnZx2dZfQKSJzYvQYHE1fi0dnhXZ68w/NAGgBoAvAWmmDDCLZhAhC5SSua0MAXhtlHF40O0ctchC6Gw5GkhBrC53qgG2EggdCDkMp9j+db7RSheV20Nmy/9nRRV6unuaDdiwOz0rLqdkml/kJhfCGYwh3HOUuYoVvMKKxS4kU1c8eb3bhnjdOdVLdas7okL3/LpcIG0+mV48Cvq1wev3ANJWhDD3zpuwcHAGgW0JSilAtKBPcjHKX/ZKmEDaRDUxgdK+IxRjIj4sI06D8N+K5q56PK8UO7GR8WCqRI8Flbv04GZdYgzX4jcY2e45WrOMfkbtTKcZFllTfBssLzPPzUtEt2sh8PjrQCIfiifvR3aN1ukDqtPmpu7h4JToxN5rHsapVl7mx247o/vPQ77AAAeJyVj8FKw0AURc+0aUAUiht3ltnLhGQgCAXd2U/IFzQtgZJAmv6KOz/IT/ET3HmnPhe6EDrwmDN37rvzBrjhFUdajiXeeEbOs/GcB96MM3k+jBdcu1vjnKV7ktNlV1JW567EM+WXxnMaXowzed6NF9zxaZyzcvec6JnoVAdatgR2DGctUMGpn7rp0G7DbuinIOHX7Y+4MTHtI3sFeSKFxvGsVf8/8u2J1DqliuqreFSs4jfDuG99LEq/9n+GkRLrUIdYVjJf+pFGrpGjOpLLy5PmpWnHYzf0virKizO/AEzyTYUAeJxjYGJABowM6IAVLMrEyMTIzJ+WmZqToptZXFyaqpuZnCeCzM9PSwOK5ecBAP6rDY8AAAAAAAH//wACeJxjYGRgYOABYjEgZmJgBEIWMAbxGAADygAzAAAAAAEAAAAA1BgWEQAAAADVTG6JAAAAANXVfv4=);\n    font-weight: normal;\n    font-style: normal;\n}\n\n[class^="fieldissueicon-"], [class*=" fieldissueicon-"] {\n    font-family: \'fieldissueicon\';\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    line-height: 1;\n    padding-top: 2px;\n    speak: none;\n    text-transform: none;\n\n\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.issueicon-issue_hide:before {\n    content: "\\e915";\n}\n.issueicon-issue_normal:before {\n    content: "\\e916";\n}\n\n.rfiicon-rfi_hide:before {\n    content: "\\e003";\n}\n.rfiicon-rfi_normal:before {\n    content: "\\e002";\n}\n\n.fieldissueicon-issue_hide:before {\n    content: "\\e002";\n}\n.fieldissueicon-issue_normal:before {\n    content: "\\e001";\n}\n\n.leaflet-text-label {\n    display: inherit;\n    font-family: \'HelveticaNeue-bold\';\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    line-height: 0;\n    pointer-events: none;\n    /*margin-top: 40px;\n    margin-left:-20px;*/\n    text-align: center;\n    font-size: 16px;\n    border-radius: .5em;\n    max-width:auto;\n    min-width: 60px; /*real width = width + border*2*/\n    height: 32px;    /*real height = height + border*2*/\n    position:absolute;\n    background-color:rgba(0,0,0,0.7);\n    color: #FFF;\n    border: 2px solid white;\n}\n\n.leaflet-marker-icon.leaflet-pin-icon {\n    width: 40px;\n}\n\n.leaflet-text-label span {\n    display: inline-block;\n    vertical-align: middle;\n    line-height:32px;\n    white-space: pre;\n}\n\n.leaflet-pushpin-hidden {\n    visibility: hidden;\n}\n\n/* disable push pin visible button\'s border*/\n#toolbar-pushpinVis, #toolbar-pushpinRfisVis, #toolbar-pushpinFieldIssuesVis {\n    border: none;\n}\n/*</editor-fold>*/\n\n/*<editor-fold desc="PUSHPIN BILLBOARD (3D)">*/\n.pushpin-billboard-marker {\n    position: absolute;\n    font-size: 10px;\n    font-weight: bold;\n    width: 22px;\n    height: 22px;\n\n    left: 0;\n    top: 0;\n\n    line-height: 16px;\n    text-align: center;\n    cursor: pointer;\n    pointer-events: none;\n\n    color: rgba(23, 87, 168, 1.0);\n    border: 4px solid rgba(255, 255, 255, 0.95);\n    background: #4675A8 no-repeat center;\n    background-size: 16px;\n    border-radius: 15px;\n\n    opacity: 1;\n    transition: opacity 0.4s;\n    -webkit-transition: opacity 0.4s;\n\n    /* Used to optimize transform changes. Improves performance dramatically! */\n    will-change: transform;\n}\n\n.rfi-billboard-marker {\n    position: absolute;\n    font-size: 10px;\n    font-weight: bold;\n    width: 22px;\n    height: 22px;\n    line-height: 16px;\n    text-align: center;\n    cursor: pointer;\n    pointer-events: none;\n\n    left: 0;\n    top: 0;\n\n    color: rgba(23, 87, 168, 1.0);\n    border: 4px solid rgba(255, 255, 255, 0.95);\n    background: #4675A8 no-repeat center;\n    background-size: 16px;\n    border-radius: 3px;\n\n    opacity: 1;\n    transition: opacity 0.4s;\n    -webkit-transition: opacity 0.4s;\n\n    /* Used to optimize transform changes. Improves performance dramatically! */\n    will-change: transform;\n}\n\n.pushpin-billboard-marker.selected {\n    border: 5px solid rgba(255, 255, 255, 0.95);\n    border-radius: 20px;\n    background-size: 20px;\n    z-index: 1;\n    top: -3px;\n    width: 28px;\n    height: 28px;\n    left: -3px;\n}\n\n\n.rfi-billboard-marker.selected {\n    border: 5px solid rgba(255, 255, 255, 0.95);\n    border-radius: 4px;\n    background-size: 20px;\n    z-index: 1;\n    top: -3px;\n    width: 28px;\n    height: 28px;\n    left: -3px;\n}\n\n.pushpin-billboard-marker.grey-out {\n    background-color: rgb(145, 145, 145) !important;\n    opacity: 0.5 !important;\n    cursor: not-allowed;\n}\n\n.rfi-billboard-marker.grey-out {\n    background-color: rgb(145, 145, 145) !important;\n    opacity: 0.5 !important;\n    cursor: not-allowed;\n}\n\n.pushpin-container {\n    will-change: transform;\n    transform: translateZ(0);\n    left: 0;\n    top: 0;\n    position: absolute;\n}\n/*</editor-fold>*/'],sourceRoot:""}]);const v=c},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var r=0;r<this.length;r++){var A=this[r][0];null!=A&&(a[A]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),i&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=i):u[2]=i),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},61667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},87537:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(s," */"),a=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([o]).join("\n")}return[t].join("\n")}},51909:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ut});var n,s,o,a,r={PUSH_PIN_EDIT_START_EVENT:"pushpin.edit.start",PUSH_PIN_EDIT_END_EVENT:"pushpin.edit.end",PUSH_PIN_PREPARING_THUMBNAIL:"pushpin.preparing.thumbnail",PUSH_PIN_CREATED_EVENT:"pushpin.created",PUSH_PIN_SELECTED_EVENT:"pushpin.selected",PUSH_PIN_REMOVED_EVENT:"pushpin.removed",PUSH_PIN_REMOVE_ALL_EVENT:"pushpin.remove.all",PUSH_PIN_MODIFY_EVENT:"pushpin.modified",PUSH_PIN_UPDATE_EVENT:"pushpin.update",PUSH_PIN_VISIBILITY_EVENT:"pushpin.visibility.changed",PUSH_PIN_ITEMS_LOADED:"pushpin.tool.items.loaded",PUSH_PIN_CLICKED_EVENT:"pushpin.clicked",PUSH_PIN_SELECT_NONE:"pushpin.select.none"},A=function(e,t){e&&t&&("eye"in e&&(e.eye[0]=(Number(e.eye[0])+t.x).toString(),e.eye[1]=(Number(e.eye[1])+t.y).toString(),e.eye[2]=(Number(e.eye[2])+t.z).toString()),"target"in e&&(e.target[0]=(Number(e.target[0])+t.x).toString(),e.target[1]=(Number(e.target[1])+t.y).toString(),e.target[2]=(Number(e.target[2])+t.z).toString()),"pivotPoint"in e&&(e.pivotPoint[0]=(Number(e.pivotPoint[0])+t.x).toString(),e.pivotPoint[1]=(Number(e.pivotPoint[1])+t.y).toString(),e.pivotPoint[2]=(Number(e.pivotPoint[2])+t.z).toString()))},l=function(e,t){if(e&&t)for(var i=new THREE.Vector3,n=0;n<e.length;n++){var s=e[n];u(s,i),s[3]=Number(s[3])-i.dot(t)}},u=function(e,t){t.x=Number(e[0]),t.y=Number(e[1]),t.z=Number(e[2])},h=(n=new THREE.Vector3,function(e,t){u(e,n),n.applyMatrix4(t),n.toArray(e)}),c=function(){var e=new THREE.Vector3,t=new THREE.Matrix3;return function(i,n){u(i,e),t.getNormalMatrix(n),e.applyMatrix3(t),e.normalize(),e.toArray(i)}}(),d=(s=new THREE.Vector3,o=new THREE.Vector3,a=new THREE.Vector3,function(e,t){u(e.eye,s),u(e.target,o),a.subVectors(s,o).normalize().multiplyScalar(e.orthographicHeight),s.copy(o).add(a),s.applyMatrix4(t),o.applyMatrix4(t),e.orthographicHeight=s.distanceTo(o)}),p=function(e,t){if(e&&t&&(e.viewport.isOrthographic&&e.viewport.orthographicHeight>0&&d(e.viewport,t),h(e.viewport.eye,t),h(e.viewport.target,t),h(e.viewport.pivotPoint,t),c(e.viewport.up,t),c(e.viewport.worldUpVector,t),e.cutplanes))for(var i=new THREE.Plane,n=new THREE.Vector3,s=0;s<e.cutplanes.length;s++){var o=e.cutplanes[s];u(o,n);var a=Number(o[3]);i.set(n,a),i.applyMatrix4(t),i.normal.toArray(o),o[3]=i.constant}},f={"issues-draft":"#819099","issues-draft-selected":"#819099","issues-draft-movable":"#819099","issues-open":"#ffba0c","issues-open-selected":"#ffba0c","issues-open-movable":"#ffba0c","issues-answered":"#087cd9","issues-answered-selected":"#087cd9","issues-answered-movable":"#087cd9","issues-closed":"#bcc9d1","issues-closed-selected":"#bcc9d1","issues-closed-movable":"#bcc9d1","rfis-draft":"#819099","rfis-draft-selected":"#819099","rfis-draft-movable":"#819099","rfis-submitted":"#7a77d9","rfis-submitted-selected":"#7a77d9","rfis-submitted-movable":"#7a77d9","rfis-open":"#ffba0c","rfis-open-selected":"#ffba0c","rfis-open-movable":"#ffba0c","rfis-answered":"#087cd9","rfis-answered-selected":"#087cd9","rfis-answered-movable":"#087cd9","rfis-rejected":"#ff495c","rfis-rejected-selected":"#ff495c","rfis-rejected-movable":"#ff495c","rfis-closed":"#bcc9d1","rfis-closed-selected":"#bcc9d1","rfis-closed-movable":"#bcc9d1","rfis-void":"#bcc9d1","rfis-void-selected":"#bcc9d1","rfis-void-movable":"#bcc9d1","quality_issues-draft":"#819099","quality_issues-draft-selected":"#819099","quality_issues-draft-movable":"#819099","quality_issues-not_approved":"#ff495c","quality_issues-not_approved-selected":"#ff495c","quality_issues-not_approved-movable":"#ff495c","quality_issues-open":"#ffba0c","quality_issues-open-selected":"#ffba0c","quality_issues-open-movable":"#ffba0c","quality_issues-ready_to_inspect":"#7a77d9","quality_issues-ready_to_inspect-selected":"#7a77d9","quality_issues-ready_to_inspect-movable":"#7a77d9","quality_issues-void":"#bcc9d1","quality_issues-void-selected":"#bcc9d1","quality_issues-void-movable":"#bcc9d1","quality_issues-work_completed":"#087cd9","quality_issues-work_completed-selected":"#087cd9","quality_issues-work_completed-movable":"#087cd9","quality_issues-in_dispute":"#ff495c","quality_issues-in_dispute-selected":"#ff495c","quality_issues-in_dispute-movable":"#ff495c","quality_issues-closed":"#bcc9d1","quality_issues-closed-selected":"#bcc9d1","quality_issues-closed-movable":"#bcc9d1","quality_issues-answered":"#087cd9","quality_issues-answered-selected":"#087cd9","quality_issues-answered-movable":"#087cd9"},v="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABMCAYAAAAlS0pSAAAA4UlEQVR42u3bSw7DIAwFwNz/zhXddNVuoPWHlHkHCGKUgG0p1yVyTMYrJGDFQwFbhAIGKw8KGKw8KGCLUMBg5UEdDQYrGeo4sBEUWLC0O7BgwYIFCxYsWLBgwYL1r1jRm8nGasPP3Ew2VhlY1Waqnl96ntwdKxytagjXifXzOtUTy26sr9YbMoeGaAIMywIaDm+Yc2sbKKVDcr2lKP1c6KHd0Ugb0WwxojH8M1aGBUtgwYIFCxYsgQUL1iYofkeB1Q/mcwQFqw3MzQgrHkwlOglGCJZ2B9YdwIhMgpGAJfKWJ1qioD8mrIWXAAAAAElFTkSuQmCC)",g=30;function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=AutodeskNamespace("Autodesk.BIM360.Extension.PushPin"),b=function(e){for(e=(e=e.replace(/-/g,"+")).replace(/_/g,"/");e.length%4;)e+="=";try{return atob(e)}catch(e){return null}},E=function(e){for(var t=e.split("/"),i=null,n=t.length-1;n>=0&&(!(i=b(t[n]))||-1==i.indexOf("file:"));n--)i=null;if(!i)return console.error("urn is not encoded correctly."),null;var s=i.indexOf("file:")+"file:".length,o=i.indexOf("?");return i.substring(s,o)},w=function(e,t){var i=e.getVisibleModels();if(!t)return 1===i.length?(console.error("Issue seedUrn does not exist. Assume pushpin belongs to viewer current main model"),i[0]):(console.error("Issue seedUrn does not exist."),null);for(var n=E(t),s=0;s<i.length;s++){var o=i[s],a=o.myData.urn;if(E(a)===n)return o}return 1===i.length?i[0]:void 0},B=1,I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.itemData={id:(B++).toString(),label:"New",status:"issues-open",position:{x:0,y:0,z:0},type:"issues",objectId:null,externalId:null,viewerState:null,objectData:null,locationIds:[],seedURN:null},this.selected=!1,this.isVisible=!0,this.draggable=!1,this.selectable=!0}var t,i;return t=e,(i=[{key:"defaultAppearance",value:function(){return{normalSize:40,selectedSize:60,draggableStatus:"-movable",selectedStatus:"-selected"}}},{key:"set",value:function(e){return this.itemData=Object.assign({},this.itemData,e),this.correctDataFormat(),this}},{key:"setLocal",value:function(e,t){this.set(e);var i=this.findModel(t);if(i){this.itemData.position=(new THREE.Vector3).copy(this.itemData.position);var n=i.myData.placementWithOffset;n&&this.itemData.position.applyMatrix4(n);var s=i.myData.placementTransform;this.itemData.viewerState=JSON.parse(JSON.stringify(this.itemData.viewerState)),s&&p(this.itemData.viewerState,s)}else console.error("PushPin coordinate conversion failed: PushPin must belong to a visible model.")}},{key:"getLocal",value:function(e){var t=this.findModel(e);if(t){var i=Object.assign({},this.itemData);i.position=(new THREE.Vector3).copy(this.itemData.position),i.viewerState=JSON.parse(JSON.stringify(this.itemData.viewerState));var n=t.myData.placementWithOffset,s=t.myData.placementTransform;if(n){var o=n.clone().invert();i.position.applyMatrix4(o)}if(s){var a=s.clone().invert();p(i.viewerState,a)}return i}}},{key:"setObjectId",value:function(e){this.itemData.objectId=e}},{key:"setObjectData",value:function(e){var t=e.model;if(t){var i=t.getData();if(i){var n=t.getDocumentNode();if(n){var s=n.data;s&&(this.itemData.objectData={guid:s.guid,urn:i.urn,viewableId:s.viewableID,viewName:s.name})}}}}},{key:"setExternalId",value:function(e){this.itemData.externalId=e}},{key:"setPosition",value:function(e){this.itemData.position=Object.assign({},e)}},{key:"hasPosition",value:function(){return null!==this.itemData.position.x&&null!==this.itemData.position.y&&null!==this.itemData.position.z}},{key:"findModel",value:function(e){var t=e.getVisibleModels();if(!this.itemData.viewerState&&1===t.length)return t[0];var i=this.getSeedUrn();return w(e,i)}},{key:"setViewerState",value:function(e){this.itemData.viewerState=Object.assign({},e),this.itemData.viewerState.attributesVersion=2}},{key:"setOriginalDocumentResolution",value:function(e){this.setViewerState({originalDocumentResolution:e})}},{key:"correctDataFormat",value:function(){var e=this;["draft","draft-selected","draft-movable","open","open-selected","open-movable","answered","answered-selected","answered-movable","closed","closed-selected","closed-movable"].forEach((function(t){e.itemData.status===t&&(e.itemData.status="".concat(e.itemData.type||"issues","-").concat(e.itemData.status))}))}},{key:"getAttributesVersion",value:function(){return this.itemData.attributesVersion||this.itemData.viewerState&&this.itemData.viewerState.attributesVersion}},{key:"setLocationIds",value:function(e){this.itemData.locationIds=e}},{key:"getSeedUrn",value:function(){var e,t;return this.itemData.seedURN||(null===(e=this.itemData.viewerState)||void 0===e?void 0:e.seedUrn)||(null===(t=this.itemData.viewerState)||void 0===t?void 0:t.seedURN)}},{key:"setSeedUrn",value:function(e){this.itemData.seedURN=e}},{key:"data",get:function(){return this.itemData}},{key:"visible",get:function(){return this.isVisible},set:function(e){this.hasPosition()?this.isVisible=e:this.isVisible=!1}}])&&m(t.prototype,i),e}();function P(e,t){var i=Math.ceil(Math.log2(e)),n=Math.ceil(Math.log2(t));return Math.max(i,n)}function k(e,t,i){var n,s;if(e.model.isPdf(!0))n=Autodesk.Viewing.PDFUtils.getLeafletLoadOptions(e),s=Autodesk.Viewing.PDFUtils.getLeafletBoundingBox(e);else{var o=e.model.getData();n=o.loadOptions.loadOptions,s=o.bbox}var a=n,r=a.texWidth,A=a.texHeight,l=e.clientToWorld(t,i,void 0,!0).point,u=new THREE.Vector3(s.min.x,s.max.y,0);l.sub(u);var h=s.getSize(new THREE.Vector3),c=l.x*r/h.x,d=l.y*A/h.y,p=new THREE.Vector3(c,d,0),f=P(r,A),v=Math.pow(2,f),g=p.x/v,m=p.y/v;return new THREE.Vector3(m,g,0)}function C(e,t,i){return e.model.isLeaflet()?k(e,t,i):e.clientToWorld(t,i,void 0,!0).point}function M(e,t){if(e.model.isLeaflet()||e.model.isPdf(!0)){var i=t.viewerState&&t.viewerState.originalDocumentResolution,n=function(e,t,i){if(!e.model.isLeaflet()&&!e.model.isPdf(!0))return e.worldToClient(t);var n,s,o=t.y,a=t.x;if(e.model.isPdf(!0))n=Autodesk.Viewing.PDFUtils.getLeafletLoadOptions(e),s=Autodesk.Viewing.PDFUtils.getLeafletBoundingBox(e);else{var r=e.model.getData();n=r.loadOptions.loadOptions,s=r.bbox}var A=n,l=A.texWidth,u=A.texHeight,h=P(l,u),c=Math.pow(2,h);o*=c,a*=c;var d=l/(i&&i[0]||l),p=s.getSize(new THREE.Vector3),f=o/(l/d)*p.x,v=a/(u/d)*p.y,g=new THREE.Vector3(s.min.x+f,s.max.y+v,0);return e.model.isPdf(!0)&&Autodesk.Viewing.PDFUtils.leafletToPdfWorld(e,g),e.impl.worldToClient(g)}(e,t.position,i);return e.clientToWorld(n.x,n.y,void 0,!0).point}return t.position}function S(e,t){var i=Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(e,(new THREE.Vector3).copy(t.position));t.position={x:i.y-1,y:i.x,z:0}}function T(e,t){var i=null==t?void 0:t.getModelTransform();i&&e.applyMatrix4(i.clone().invert())}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function x(e,t,i,n,s,o,a){try{var r=e[o](a),A=r.value}catch(e){return void i(e)}r.done?t(A):Promise.resolve(A).then(n,s)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t,i){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(i):s.value}},V(e,t,i||e)}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function G(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}y.PushPinItem=I;var _=AutodeskNamespace("Autodesk.BIM360.Extension.PushPin"),L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(l,Autodesk.Viewing.EventDispatcher);var t,i,n,s,o,a,A=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(a){var i=O(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return G(this,e)});function l(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(D(this,l),(t=A.call(this)).viewer=e,t.options=i,t.pushPinList=[],t.selectedItem=null,t.PushPinTypes={ISSUES:"issues",RFIS:"rfis",QUALITY_ISSUES:"quality_issues"},t.is2D=!!t.viewer.impl.is2d,!t.is2D){var n=t.viewer.model.getBoundingBox(),s=t.viewer.impl.worldUpName();t.isPseudo2D=n.max[s]-n.min[s]==0,t.options.disableOcclusionTest=t.options.disableOcclusionTest||t.isPseudo2D}return t.pushPinsVisibilityByType=t.getInitialPushpinVisibilityByType(),t.pushpinsByType=t.getInitialPushpinsByType(),t.create=Promise.resolve(),t.onPushpinEditStartBinded=t.onPushpinEditStart.bind(U(t)),t.onPushpinEditEndBinded=t.onPushpinEditEnd.bind(U(t)),t.addEventListener(r.PUSH_PIN_EDIT_START_EVENT,t.onPushpinEditStartBinded),t.addEventListener(r.PUSH_PIN_EDIT_END_EVENT,t.onPushpinEditEndBinded),t.addEventListener(r.PUSH_PIN_REMOVED_EVENT,t.onPushpinEditEndBinded),t}return t=l,i=[{key:"items",value:function(){return this.pushPinList}},{key:"getInitialPushpinsByType",value:function(){var e=this,t={};return Object.keys(this.PushPinTypes).forEach((function(i){t[e.PushPinTypes[i]]={}})),t}},{key:"getInitialPushpinVisibilityByType",value:function(){var e=this,t={};return Object.keys(this.PushPinTypes).forEach((function(i){t[e.PushPinTypes[i]]=!0})),t}},{key:"shouldGenerateThumbnail",value:function(e){return this.options.generateIssueThumbnail&&(e.data.type===this.PushPinTypes.ISSUES||e.data.type===this.PushPinTypes.QUALITY_ISSUES)||this.options.generateRFIThumbnail&&e.data.type===this.PushPinTypes.RFIS}},{key:"generateThumbnail",value:function(e){var t=this;return this.shouldGenerateThumbnail(e)?new Promise((function(i,n){var s,o,a,A,l,u,h=e.data.position,c=h.x,d=h.y,p=h.z;t.viewer.model.isPdf(!0)&&S(t.viewer,e.data),t.fireEvent({type:r.PUSH_PIN_PREPARING_THUMBNAIL,value:e}),e.data.position={x:c,y:d,z:p},A=t.viewer.model.isLeaflet()?M(t.viewer,e.data):e.data.position;var f=t.viewer.impl.getCanvasBoundingClientRect();if(f.width/f.height>1?(o=Math.floor(Math.max(f.height,800)),a=o/f.height,s=Math.floor(f.width*a)):(s=Math.floor(Math.max(f.width,800)),a=s/f.width,o=Math.floor(f.height*a)),t.viewer.model.is2d()){var v,g;t.viewer.model.isPageCoordinates()?(v=t.viewer.clientToWorld(200,0,void 0,!0).point,g=t.viewer.clientToWorld(0,0,void 0,!0).point):(v=k(t.viewer,200,0),g=k(t.viewer,0,0));var m=v.distanceTo(g);(u=(new THREE.Box3).expandByPoint(A)).expandByVector(new THREE.Vector3(m/2,m/2,0)),u.min.z=0,u.max.z=0}var y={bounds:u,getCropBounds:function(e,t){var i=l;i.x+400>s&&(i.x-=i.x+400-s),i.y+400>o&&(i.y-=i.y+400-o);var n=(new THREE.Box3).expandByPoint(i);return n.expandByVector(new THREE.Vector3(400,400,0)),n},overlayRenderer:function(e,t){var i=t.width,n=t.height,s=t.ctx,o=t.target,r=t.screenshotCamera,h=t.onRenderDone,c=s.targetToCanvas(o).canvas;l=u?{x:i/2,y:n/2}:e.worldToClient(A,r).multiplyScalar(a);var d=c.getContext("2d");d.fillStyle="#FF0000",d.beginPath(),d.arc(l.x,n-l.y,40,0,2*Math.PI),d.closePath(),d.fill(),h(c)}};Autodesk.Viewing.ScreenShot.getScreenShotWithBounds(t.viewer,s,o,(function(e,t,s){if(!e)return n("Error while preparing pushpin thumbnail.");Autodesk.Viewing.ScreenShot.blobToImage(e,t,s,(function(e){return i(e)}))}),y)})).catch((function(e){return console.error(e),null})):Promise.resolve(null)}},{key:"setItemLocationIds",value:function(e){var t;if(this.viewer.model.isLeaflet()){var i=M(this.viewer,e.data);t=this.viewer.model.isPageCoordinates()?i:Autodesk.Viewing.PDFUtils.leafletToPdfWorld(this.viewer,i)}else t=e.data.position;var n=this.getLocationIdsAtPoint(t);e.setLocationIds(n)}},{key:"createItem",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(this.getItemById(e.id))return null;var o=new I;return n?o.setLocal(e,s):o.set(e),this.addItem(o),i&&this.create(o).then((function(){return t.setItemLocationIds(o),t.generateThumbnail(o)})).then((function(e){var i=o.data.position,n=i.x,s=i.y,a=i.z;t.viewer.model.isPdf(!0)&&S(t.viewer,o.data),t.fireEvent({type:r.PUSH_PIN_CREATED_EVENT,value:o,thumbnail:e}),o.data.position={x:n,y:s,z:a}})),o}},{key:"addItems",value:function(e,t,i){var n=this;e.forEach((function(e){if(n.viewer.model.isPdf(!0)){var s=M(n.viewer,e),o=s.x,a=s.y,r=s.z;e.position={x:o,y:a,z:r}}n.createItem(e,!1,t,i)}))}},{key:"removeAllItems",value:function(){this.selectedItem=null,this.pushPinList=[],this.pushpinsByType=this.getInitialPushpinsByType(),this.fireEvent({type:r.PUSH_PIN_REMOVE_ALL_EVENT})}},{key:"addItem",value:function(e){if(e.data&&e.data.id){if(this.getItemIndexById(e.data.id)>-1)return!1;var t=e.data.type;return t&&this.pushPinsVisibilityByType&&(e.visible=this.pushPinsVisibilityByType[t]),t=t||this.PushPinTypes.ISSUES,this.pushpinsByType[t]&&(this.pushpinsByType[t][e.data.id]=e.data),this.pushPinList.unshift(e),!0}return!1}},{key:"removeItemById",value:function(e){this.selectedItem&&this.selectedItem.data.id===e&&(this.selectedItem=null);var t=this.getItemIndexById(e);if(t>-1){var i=this.pushPinList.splice(t,1)[0],n=i.data.type;return n&&this.pushpinsByType[n]&&delete this.pushpinsByType[n][e],this.fireEvent({type:r.PUSH_PIN_REMOVED_EVENT,value:i}),i}return null}},{key:"removeItemsByType",value:function(e){var t=this,i=this.pushpinsByType[e]||{};Object.keys(i).forEach((function(e){t.removeItemById(e)}))}},{key:"updateItemById",value:function(e,t){var i=this.getItemById(e);if(!i)return null;var n=this.getItemIndexById(i.data.id);if(!t||!t.id||t.type!==i.data.type)return null;if(this.viewer.model.isPdf(!0)){var s=M(this.viewer,t),o=s.x,a=s.y,A=s.z;t.position={x:o,y:a,z:A}}i.set(t);var l=i.data.type;return l&&this.pushpinsByType[l]&&(delete this.pushpinsByType[l][e],this.pushpinsByType[l][i.data.id]=i.data),this.pushPinList[n]=i,this.fireEvent({type:r.PUSH_PIN_UPDATE_EVENT,value:i}),i}},{key:"getItemById",value:function(e){var t=this.getItemIndexById(e);return t>-1?this.pushPinList[t]:null}},{key:"getItemIndexById",value:function(e){var t=-1;return this.pushPinList.every((function(i,n){return i.data.id!==e||(t=n,!1)})),t}},{key:"getItemCountByType",value:function(e){var t=this.pushpinsByType[e]||{};return Object.keys(t).length}},{key:"getSelectedItem",value:function(){return this.selectedItem}},{key:"selectOne",value:function(e,t){var i=Boolean(t);if(!this.selectedItem||this.selectedItem.data.id!==e){var n=this.selectedItem;this.selectedItem=this.getItemById(e),n!==this.selectedItem&&(n&&(n.selected=!1),this.selectedItem&&(this.selectedItem.selected=!0),i=!0)}return i&&this.fireEvent({type:r.PUSH_PIN_SELECTED_EVENT,value:this.selectedItem}),this.selectedItem}},{key:"selectNone",value:function(){this.selectOne(null)}},{key:"getVisibleByType",value:function(e){return this.pushPinsVisibilityByType[e]}},{key:"setVisibleByType",value:function(e,t){var i=this;this.pushPinsVisibilityByType[e]=t;var n=this.pushpinsByType[e]||{};Object.keys(n).forEach((function(e){var n=i.getItemById(e);n&&(n.visible=t)})),this.fireEvent({type:r.PUSH_PIN_VISIBILITY_EVENT,value:{type:e,isVisible:t}})}},{key:"addEventListener",value:function(e,t){this.hasEventListener(e,t)||V(O(l.prototype),"addEventListener",this).call(this,e,t)}},{key:"setCreateFunction",value:function(e){this.create=e}},{key:"removeCreateFunction",value:function(e){e===this.create&&(this.create=Promise.resolve())}},{key:"getLocationsExtension",value:function(){return this.viewer.getExtension("Autodesk.AEC.LocationsExtension")}},{key:"getLocationsExtensionAsync",value:function(){return this.viewer.getExtensionAsync("Autodesk.AEC.LocationsExtension")}},{key:"onPushpinEditStart",value:(n=regeneratorRuntime.mark((function e(){var t,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.viewer.getExtension("Autodesk.Explode"))&&t.setUIEnabled(!1),i=this.viewer.model,this.pushpinEditStarted=!0,e.next=6,this.getLocationsExtensionAsync();case 6:(n=e.sent)&&this.viewer.model===i&&this.pushpinEditStarted&&(this.options.showLocations&&n.showAllLocations(),this.selectedItem&&n.hoverLocationsByIds(this.selectedItem.data.locationIds),this.highlightPausedBackup=this.viewer.isHighlightPaused(),this.viewer.impl.pauseHighlight(!0));case 8:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(i,s){var o=n.apply(e,t);function a(e){x(o,i,s,a,r,"next",e)}function r(e){x(o,i,s,a,r,"throw",e)}a(void 0)}))},function(){return s.apply(this,arguments)})},{key:"onPushpinEditEnd",value:function(){if(!this.selectedItem||!this.selectedItem.draggable){var e=this.viewer.getExtension("Autodesk.Explode");e&&e.setUIEnabled(!0);var t=this.getLocationsExtension();t&&(t.hideAllLocations(),this.viewer.impl.pauseHighlight(this.highlightPausedBackup)),this.pushpinEditStarted=!1}}},{key:"getLocationIdsAtPoint",value:function(e){var t=this.getLocationsExtension();return t?t.getLocationIdsAtPoint(e):[]}},{key:"hoverLocations",value:function(e){var t=this.getLocationsExtension();t&&t.onMouseMove(e)}}],i&&R(t.prototype,i),l}();function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}_.PushPinManager=L;var j=Autodesk.Viewing.getGlobal().document,Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=j.createElement("div"),this.container.className="leaflet-text-label",this.text="",this.dirty=!1}var t,i;return t=e,(i=[{key:"setParent",value:function(e){this.container.parentNode&&this.container.parentNode.removeChild(this.container),e&&e.appendChild(this.container)}},{key:"set",value:function(e){if(this.text!==e){this.container.innerHTML="<span>"+e+"</span>",this.text=e;var t=this.container.firstChild.clientWidth+20;t<60&&(t=60),this.container.style.width=t.toString()+"px";var i=10,n=0;0!==this.container.clientWidth&&(i+=this.container.parentNode.clientHeight,n=.5*(this.container.parentNode.clientWidth-this.container.clientWidth),i=i.toString()+"px",n=n.toString()+"px",this.container.style.top!==i&&(this.container.style.top=i),this.container.style.left!==n&&(this.container.style.left=n),this.dirty=!1)}}}])&&F(t.prototype,i),e}();function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t,i){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(i):s.value}},W(e,t,i||e)}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function Z(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}AutodeskNamespace("Autodesk.BIM360.Extension.PushPin").HTMLPushPinLabel=Q;var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,e);var t,i,n,s,o=(n=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(n);if(s){var i=X(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Z(this,e)});function a(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this)).createLabel(e,t),i.visible=!0,i}return t=a,(i=[{key:"createLabel",value:function(e,t){W(X(a.prototype),"setParent",this).call(this,e),this.update(t)}},{key:"update",value:function(e){W(X(a.prototype),"set",this).call(this,e),this.container.style.top=a.TOP_PADDING,this.container.style.left=this.container.style.width/3+"px"}},{key:"show",value:function(){this.visible=!0,this.container.style.display="block"}},{key:"hide",value:function(){this.visible=!1,this.container.style.display="none"}},{key:"isVisible",get:function(){return this.visible},set:function(e){this.visible=e}}])&&z(t.prototype,i),a}(Q);function q(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}K.TOP_PADDING="50px",AutodeskNamespace("Autodesk.BIM360.Extension.PushPin").PushPinBillboardLabel=K;var $=Autodesk.Viewing,ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.names=["pushpinBillboard2D"],this.viewer=t,this.setGlobalManager(t.globalManager),this.active=!1,this.pushpins=[],this.selectedPushpin=null,this.dirty=!1,this.camera=this.viewer.navigation.getCamera(),this.curCameraZ=0,this.curCameraRotationZ=0,this.tmpVec=new THREE.Vector3,this.tmpMatrix=new THREE.Matrix4}var t,i;return t=e,i=[{key:"getNames",value:function(){return this.names}},{key:"getName",value:function(){return this.names[0]}},{key:"isActive",value:function(){return this.active}},{key:"activate",value:function(e){var t=this;e===this.getName()&&(this.active=!0,this.onCameraChangeBinded=function(e){return t.onCameraChange(e)},this.handleResizeBinded=function(e){return t.handleResize(e)},this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.handleResizeBinded),this.createMarkerContainer())}},{key:"deactivate",value:function(e){e===this.getName()&&(this.active=!1,this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.handleResizeBinded))}},{key:"onCameraChange",value:function(e){e.camera.position.z.toPrecision(5)!==this.curCameraZ.toPrecision(5)||e.camera.rotation.z.toPrecision(5)!==this.curCameraRotationZ.toPrecision(5)?(this.updatePushpinsProjection(),this.curCameraZ=e.camera.position.z,this.curCameraRotationZ=e.camera.rotation.z):this.updateContainerProjection()}},{key:"createMarkerContainer",value:function(){this.pushpinContainer||(this.pushpinContainer=this.viewer.appendOrderedElementToViewer("pushpin-container"),this.pushpinContainer.className="pushpin-container",this.pushpinContainer.position=new THREE.Vector3)}},{key:"project",value:function(e){var t=e.marker.intersectPoint,i=this.viewer.navigation.getScreenViewport(),n=this.tmpVec.copy(t);return this.tmpMatrix.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),n.applyProjection(this.tmpMatrix),new THREE.Vector3(Math.round((n.x+1)/2*i.width),Math.round((1-n.y)/2*i.height),n.z)}},{key:"unproject",value:function(e){var t=this.viewer.navigation.getScreenViewport(),i=new THREE.Vector3;return i.x=e.x/t.width*2-1,i.y=-(e.y/t.height*2-1),i.z=e.z,i.unproject(this.camera),i}},{key:"initNewPushpin",value:function(e){if(this.viewer.model.isLeaflet()){this.convertLeafletPosition(e);var t=this.viewer.model.getData().loadOptions.loadOptions;e.setOriginalDocumentResolution([t.texWidth,t.texHeight])}else e.intersectPoint=e.data.position;this.pushpins.push(e),this.createMarker(e),e.draggable?this.enableDragging(e):this.disableDragging(e),e.visible?this.showMarker(e.marker):this.hideMarker(e.marker)}},{key:"createPushpin",value:function(e){return e.data.attributesVersion=2,this.initNewPushpin(e),this.selectPushpin(e),Promise.resolve()}},{key:"convertLeafletPosition",value:function(e){var t=M(this.viewer,e.data);e.intersectPoint={x:t.x,y:t.y,z:t.z}}},{key:"loadPushpin",value:function(e){return this.initNewPushpin(e),Promise.resolve()}},{key:"createMarker",value:function(e){var t=this.getDocument().createElement("div"),i="rfis"===e.data.type?"rfi-billboard-marker":"pushpin-billboard-marker";if(t.classList.add(i),t.style.backgroundColor=f[e.data.status],t.style.boxShadow="0px 1px 6px rgba(0, 0, 0, 0.6)",this.pushpinContainer.appendChild(t),t.id=e.data.id,t.intersectPoint=e.intersectPoint,e.marker=t,this.setMarkerPosition(e),1===this.pushpins.length)this.setPushpinContainerPosition(e);else{var n=e.marker.position.x-this.pushpinContainer.position.x,s=e.marker.position.y-this.pushpinContainer.position.y;e.marker.style.transform="translate(".concat(n,"px, ").concat(s,"px)")}}},{key:"removePushpin",value:function(e){var t=this;this.pushpins=this.pushpins.filter((function(i){return t.selectedPushpin&&t.selectedPushpin.data.id===e.data.id&&(t.selectedPushpin=null),i.data.id!==e.data.id})),this.destroyMarker(e)}},{key:"removeAll",value:function(){var e=this;this.pushpins.forEach((function(t){e.removePushpin(t)}))}},{key:"destroyMarker",value:function(e){this.destroyLabel(e),this.pushpinContainer.removeChild(e.marker),e.marker=void 0}},{key:"destroyLabel",value:function(e){e.label&&(e.marker.removeChild(e.label.container),e.label=void 0)}},{key:"setPushpinContainerPosition",value:function(e){var t=e.marker.position.x-15,i=e.marker.position.y-15;this.pushpinContainer.initPos=e.intersectPoint,this.pushpinContainer.position.x=e.marker.position.x,this.pushpinContainer.position.y=e.marker.position.y,this.pushpinContainer.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}},{key:"setMarkerPosition",value:function(e){e.marker.position=this.project(e)}},{key:"updateStyle",value:function(e,t,i){f[e]=i,this.dirty=!0}},{key:"updateContainerProjection",value:function(){var e=this;if(this.pushpins.length>0){var t={marker:{intersectPoint:this.pushpinContainer.initPos}},i=this.pushpinContainer.position=this.project(t),n=i.x-15,s=i.y-15;this.pushpinContainer.style.transform="translate(".concat(n,"px, ").concat(s,"px)")}this.pushpins.forEach((function(t){e.updatePushpin(t)})),this.dirty=!1}},{key:"updatePushpinsProjection",value:function(){var e=this;this.redraw=!0,this.pushpins.forEach((function(t){e.setMarkerPosition(t)})),this.pushpins.forEach((function(t){e.redraw&&(e.setPushpinContainerPosition(t),e.redraw=!1);var i=t.marker.position.x-e.pushpinContainer.position.x,n=t.marker.position.y-e.pushpinContainer.position.y;t.marker.style.transform="translate(".concat(i,"px, ").concat(n,"px)"),e.updatePushpin(t)})),this.dirty=!1}},{key:"updatePushpin",value:function(e){this.dirty&&(e.label&&e.label.update(e.data.label),e.draggable?this.enableDragging(e):this.disableDragging(e),e.marker.style.backgroundColor=f[e.data.status],e.visible?this.showMarker(e.marker):this.hideMarker(e.marker))}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"selectPushpin",value:function(e){this.deselect(),this.viewer.clearSelection(),e.label=new K(e.marker,e.data.label),e.marker.classList.add("selected"),this.selectedPushpin=e,e.draggable?this.enableDragging(e):this.disableDragging(e)}},{key:"deselect",value:function(){this.selectedPushpin&&(this.destroyLabel(this.selectedPushpin),this.selectedPushpin.marker.style.pointerEvents="none",this.selectedPushpin.marker.classList.remove("selected"),this.selectedPushpin=null)}},{key:"enableDragging",value:function(e){this.selectedPushpin&&this.selectedPushpin.data.id===e.data.id&&(e.marker.style.pointerEvents="auto"),e.marker.style.backgroundImage=v}},{key:"disableDragging",value:function(e){var t=e||this.selectedPushpin;t.marker.style.pointerEvents="none",t.marker.style.backgroundImage="none",t.draggable=!1}},{key:"showMarker",value:function(e){e.style.display=""}},{key:"hideMarker",value:function(e){e.style.display="none"}},{key:"showMarkers",value:function(){var e=this;this.pushpins.forEach((function(t){t.visible?e.showMarker(t.marker):e.hideMarker(t.marker)}))}},{key:"hideMarkers",value:function(){var e=this;this.pushpins.forEach((function(t){e.hideMarker(t.marker)})),this.selectedPushpin&&this.destroyLabel(this.selectedPushpin)}},{key:"handleButtonDown",value:function(e,t){return!1}},{key:"handleButtonUp",value:function(e,t){return!1}},{key:"handleResize",value:function(){var e=this;setTimeout((function(){e.updatePushpinsProjection()}),1)}}],i&&q(t.prototype,i),e}();function te(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}$.GlobalManagerMixin.call(ee.prototype),AutodeskNamespace("Autodesk.BIM360.Extension.PushPin").PushPinBillboardTool2D=ee;var ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pushpin=null,this.pushpinRenderer=t,this.mousePosition={x:0,y:0},this.onTouchDragBinded=this.onTouchDrag.bind(this),this.onMouseMoveBinded=this.onMouseMove.bind(this),this.onMouseUpBinded=this.onMouseUp.bind(this),this.onMouseDownBinded=this.onMouseDown.bind(this),this.onHammerInputBinded=this.onHammerInput.bind(this),this.mouseEnabled=!1,this.mousePrevValue=!1,this.lock=!1}var t,i,n;return t=e,n=[{key:"convertEventHammerToMouse",value:function(e){e.shiftKey=!1,e.clientX=e.pointers[0].clientX,e.clientY=e.pointers[0].clientY}}],(i=[{key:"processMouseEvent",value:function(e){this.mousePosition.x=e.clientX,this.mousePosition.y=e.clientY}},{key:"attachTo",value:function(e){this.pushpin&&this.detach(),this.pushpin=e,Autodesk.Viewing.isTouchDevice()&&(this.hammer=new Autodesk.Viewing.Hammer.Manager(e,{recognizers:[Autodesk.Viewing.GestureRecognizers.drag],inputClass:Autodesk.Viewing.isIE11?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.on("dragstart dragmove dragend",this.onTouchDragBinded),this.hammer.on("hammer.input",this.onHammerInputBinded)),Autodesk.Viewing.isMobileDevice()||this.enableMouseButtons(!0)}},{key:"onHammerInput",value:function(e){this.setMouseDisabledWhenTouching(e)}},{key:"setMouseDisabledWhenTouching",value:function(e){var t=this;e.isFirst&&!this.lock?(this.enableMouseButtons(!1),this.lock=!0):e.isFinal&&setTimeout((function(){t.enableMouseButtons(t.mousePrevValue),t.lock=!1}),10)}},{key:"enableMouseButtons",value:function(e){e&&!this.mouseEnabled?(this.pushpin.addEventListener("mousedown",this.onMouseDownBinded),this.pushpinRenderer.viewer.container.addEventListener("mousemove",this.onMouseMoveBinded),this.pushpinRenderer.viewer.container.addEventListener("mouseup",this.onMouseUpBinded)):!e&&this.mouseEnabled&&(this.pushpin.removeEventListener("mousedown",this.onMouseDownBinded),this.pushpinRenderer.viewer.container.removeEventListener("mousemove",this.onMouseMoveBinded),this.pushpinRenderer.viewer.container.removeEventListener("mouseup",this.onMouseUpBinded)),this.mousePrevValue=this.mouseEnabled,this.mouseEnabled=e}},{key:"detach",value:function(){this.hammer&&this.hammer.destroy(),this.pushpinRenderer.viewer.container.removeEventListener("mousemove",this.onMouseMoveBinded),this.pushpinRenderer.viewer.container.removeEventListener("mouseup",this.onMouseUpBinded),this.pushpin&&(this.pushpin.removeEventListener("mousedown",this.onMouseDownBinded),this.pushpin=null),this.mouseEnabled=!1}},{key:"onMouseMove",value:function(e){this.processMouseEvent(e),this.pushpinRenderer.handleMouseMove(e),e.preventDefault()}},{key:"onMouseDown",value:function(e){this.processMouseEvent(e),this.pushpinRenderer.handleMouseDown(e),e.preventDefault()}},{key:"onMouseUp",value:function(e){this.processMouseEvent(e),this.pushpinRenderer.handleMouseUp(e),e.preventDefault()}},{key:"onTouchDrag",value:function(t){switch(e.convertEventHammerToMouse(t),t.type){case"dragstart":this.onMouseDown(t);break;case"dragmove":this.onMouseMove(t);break;case"dragend":this.onMouseUp(t)}t.preventDefault()}}])&&te(t.prototype,i),n&&te(t,n),e}();function ne(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}AutodeskNamespace("Autodesk.BIM360.Extension.PushPin").PushPinInputHandler=ie;var se=Autodesk.Viewing,oe=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.setGlobalManager(this.viewer.globalManager),this.pushPinManager=i,this.pushpinDirty=!1,this.selectedItem=null,this.onSelectedChangedBind=function(e){return n.onSelectedChanged(e)},this.onRemoveBind=function(e){return n.onRemove(e)},this.onRemoveAllBind=function(e){return n.onRemoveAll(e)},this.onModifyBind=function(e){return n.onModify(e)},this.onUpdateBind=function(e){return n.onUpdate(e)},this.createBind=function(e){return n.create(e)},this.onVisibilityChangedBind=function(e){return n.onVisibilityChanged(e)}}var t,i;return t=e,i=[{key:"register",value:function(){this.pushpinBillboardTool=new ee(this.viewer),this.viewer.toolController.registerTool(this.pushpinBillboardTool)}},{key:"deregister",value:function(){this.pushpinBillboardTool&&(this.viewer.toolController.deregisterTool(this.pushpinBillboardTool),this.pushpinBillboardTool=null)}},{key:"activate",value:function(){return this.pushpinBillboardTool.isActive()||this.viewer.toolController.activateTool("pushpinBillboard2D"),this.inputHandler=new ie(this),this.pushPinManager.addEventListener(r.PUSH_PIN_SELECTED_EVENT,this.onSelectedChangedBind),this.pushPinManager.addEventListener(r.PUSH_PIN_REMOVED_EVENT,this.onRemoveBind),this.pushPinManager.addEventListener(r.PUSH_PIN_REMOVE_ALL_EVENT,this.onRemoveAllBind),this.pushPinManager.addEventListener(r.PUSH_PIN_MODIFY_EVENT,this.onModifyBind),this.pushPinManager.addEventListener(r.PUSH_PIN_UPDATE_EVENT,this.onUpdateBind),this.pushPinManager.addEventListener(r.PUSH_PIN_VISIBILITY_EVENT,this.onVisibilityChangedBind),this.pushPinManager.setCreateFunction(this.createBind),!0}},{key:"deactivate",value:function(){this.pushpinBillboardTool.isActive()&&this.viewer.toolController.deactivateTool("pushpinBillboard2D"),this.inputHandler.detach(),this.pushPinManager.removeEventListener(r.PUSH_PIN_SELECTED_EVENT,this.onSelectedChangedBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_REMOVED_EVENT,this.onRemoveBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_REMOVE_ALL_EVENT,this.onRemoveAllBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_MODIFY_EVENT,this.onModifyBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_UPDATE_EVENT,this.onUpdateBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_VISIBILITY_EVENT,this.onVisibilityChangedBind),this.pushPinManager.removeCreateFunction(this.createBind)}},{key:"setPushpinDirty",value:function(){this.pushpinDirty=!0}},{key:"onSelectedChanged",value:function(e){e.value?(this.selectedItem=e.value,this.selectedItem.marker||this.create(this.selectedItem),this.pushpinBillboardTool.selectPushpin(this.selectedItem),this.focusCameraOnSelectedItem(this.selectedItem),this.selectedItem.draggable&&this.enableItemDragging(this.selectedItem),this.viewer.dispatchEvent({type:r.PUSH_PIN_SELECTED_EVENT})):(this.deselectItem(),this.pushpinBillboardTool.deselect()),this.setPushpinDirty()}},{key:"deselectItem",value:function(){this.selectedItem=null,this.inputHandler.detach()}},{key:"onRemove",value:function(e){this.selectedItem&&e.value.data.id===this.selectedItem.data.id&&this.deselectItem(),e.value&&e.value.marker&&this.pushpinBillboardTool.removePushpin(e.value)}},{key:"onRemoveAll",value:function(){this.deselectItem(),this.pushpinBillboardTool.removeAll()}},{key:"onModify",value:function(){this.pushpinDirty=!0}},{key:"onVisibilityChanged",value:function(){this.pushpinBillboardTool.showMarkers()}},{key:"onUpdate",value:function(){var e=this;setTimeout((function(){e.setPushpinDirty(),e.pushpinBillboardTool&&e.pushpinBillboardTool.setDirty();var t=e.pushPinManager?e.pushPinManager.getSelectedItem():null;t&&(t.draggable&&t.marker?e.enableItemDragging(t):e.disableItemDragging(t))}),1)}},{key:"enableItemDragging",value:function(e){this.pushpinBillboardTool.enableDragging(e),this.inputHandler.attachTo(e.marker)}},{key:"disableItemDragging",value:function(e){this.pushpinBillboardTool.disableDragging(e),this.inputHandler.detach()}},{key:"create",value:function(e){return this.createRenderItem(e,Autodesk.Viewing.isIOSDevice())}},{key:"createRenderItem",value:function(e,t){var i,n=e.data.id.length>20;return n||this.pushpinBillboardTool.deselect(),n&&!t?i=this.pushpinBillboardTool.loadPushpin(e):(i=this.pushpinBillboardTool.createPushpin(e),this.pushPinManager.selectOne(e.data.id)),i}},{key:"updatePattern",value:function(e,t,i){this.pushpinBillboardTool.updateStyle(e,t,i),this.setPushpinDirty()}},{key:"focusCameraOnSelectedItem",value:function(e){if(e.marker){var t=this.viewer.utilities.getBoundingBox(!0),i=.2*(t.max.x-t.min.x),n=.2*(t.max.y-t.min.y),s=new THREE.Vector3(e.marker.intersectPoint.x-i,e.marker.intersectPoint.y-n,0),o=new THREE.Vector3(e.marker.intersectPoint.x+i,e.marker.intersectPoint.y+n,0),a=new THREE.Box3(s,o);this.viewer.navigation.fitBounds(this.pushPinManager.restoreViewerStateImmediate,a,!1)}}},{key:"render",value:function(){var e=this;this.pushPinManager&&this.viewer.model&&(this.pushPinManager.items().reverse().forEach((function(t){t.marker||e.createRenderItem(t,!1)})),this.pushpinDirty&&(this.pushpinBillboardTool.updateContainerProjection(),this.pushpinDirty=!1))}},{key:"findIntersections",value:function(e){var t=e.clientX,i=e.clientY,n=null;return this.pushPinManager.items().some((function(e){if(e.selectable&&e.marker){var s=e.marker.getBoundingClientRect();if(t>s.left&&t<s.left+s.width&&i>s.top&&i<s.top+s.height)return n=e,!0}return!1})),n}},{key:"handleMouseMove",value:function(e){var t=this;if(this.selectedItem.marker&&this.selectedItem.marker.startDragging){this.newX||(this.selectedItem.marker.style.transform="translate(0px, 0px)");var i=function(e){if(e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};var i=t.getDocument();return{x:e.clientX+i.body.scrollLeft-i.body.clientLeft,y:e.clientY+i.body.scrollTop-i.body.clientTop}}(e);this.newX=i.x-this.mouseOffset.x,this.newY=i.y-this.mouseOffset.y;var n=this.viewer.navigation.getScreenViewport(),s=this.selectedItem.marker.clientWidth,o=this.selectedItem.marker.clientHeight;this.newX<5&&(this.newX=0),this.newY<5&&(this.newY=0),n.width-5<this.newX+s&&(this.newX=n.width-s),n.height-5<this.newY+o&&(this.newY=n.height-o);var a=this.pushpinBillboardTool.pushpinContainer.position.x,r=this.pushpinBillboardTool.pushpinContainer.position.y;this.selectedItem.marker.style.left="".concat(this.newX-a,"px"),this.selectedItem.marker.style.top="".concat(this.newY-r,"px"),this.selectedItem.marker.dragging=!0,this.pushPinManager.hoverLocations(event)}}},{key:"handleMouseUp",value:function(e){var t=this;if(this.selectedItem.marker)if(this.selectedItem.marker.dragging){var i=this.pushpinBillboardTool.pushpinContainer.position.x,n=this.pushpinBillboardTool.pushpinContainer.position.y;this.selectedItem.marker.style.transform="translate(".concat(this.newX-i,"px, ").concat(this.newY-n,"px)");var s=C(this.viewer,this.newX,this.newY);this.selectedItem.data.position={x:s.x,y:s.y,z:s.z},this.pushPinManager.setItemLocationIds(this.selectedItem),this.pushPinManager.generateThumbnail(this.selectedItem).then((function(e){var i=t.selectedItem.data.position,n=i.x,s=i.y,o=i.z;t.viewer.model.isPdf(!0)&&S(t.viewer,t.selectedItem.data),t.pushPinManager.fireEvent({type:r.PUSH_PIN_MODIFY_EVENT,value:t.selectedItem,thumbnail:e}),t.selectedItem.data.position={x:n,y:s,z:o}})),this.pushpinBillboardTool.removeAll(),this.render(),this.pushpinBillboardTool.selectPushpin(this.pushPinManager.selectedItem),this.selectedItem.draggable&&this.enableItemDragging(this.selectedItem)}else this.selectedItem.marker.startDragging=!1}},{key:"handleMouseDown",value:function(e){if(this.selectedItem.marker){if("textarea"===e.target.tagName.toLowerCase())return;this.mouseOffset=function(e){for(var t=0,i=0;e.offsetParent;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:t+=e.offsetLeft,y:i+=e.offsetTop}}(this.viewer.container),this.newX=null,this.newY=null,this.selectedItem.marker.startDragging=!0}}}],i&&ne(t.prototype,i),e}();function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}se.GlobalManagerMixin.call(oe.prototype);var Ae=Autodesk.Viewing,le=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae(this,e),this.names=["pushpinBillboard3D"],this.viewer=t,this.setGlobalManager(t.globalManager),this.active=!1,this.pushpins=[],this.selectedPushpin=null,this.dirty=!1,this.camera=this.viewer.navigation.getCamera();var s=200;this.maxMsPerRayCastCycle=20,this.updateTimestamp=0,this.tmpVec=new THREE.Vector3,this.tmpMatrix=new THREE.Matrix4,this.tmpFrustum=new THREE.Frustum,n.disableOcclusionTest?this.raycastThrottle=function(){}:this.raycastThrottle=this.throttle((function(){i.continueRayCasts()}),s)}var t,i;return t=e,i=[{key:"continueRayCasts",value:function(){for(var e=performance.now(),t=0;t<this.pushpins.length;t++){var i=this.pushpins[t];if(i.visible&&i.updateTimestamp!==this.updateTimestamp&&(i.updateTimestamp=this.updateTimestamp,this.castRay(i),performance.now()>e+this.maxMsPerRayCastCycle))break}t<this.pushpins.length&&this.raycastThrottle()}},{key:"getNames",value:function(){return this.names}},{key:"getName",value:function(){return this.names[0]}},{key:"isActive",value:function(){return this.active}},{key:"activate",value:function(e){var t=this;e===this.getName()&&(this.active=!0,this.onCameraChangeBinded=function(e){return t.onCameraChange(e)},this.handleResizeBinded=function(e){return t.handleResize(e)},this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.viewer.addEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT,this.onCameraChangeBinded),this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.handleResizeBinded))}},{key:"throttle",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,n=null,s=null,o=function(){n=null,e.apply(i,s)};return function(){n||(s=arguments,n=setTimeout(o,t))}}},{key:"deactivate",value:function(e){e===this.getName()&&(this.active=!1,this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.viewer.removeEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT,this.onCameraChangeBinded),this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.handleResizeBinded))}},{key:"onCameraChange",value:function(){this.updatePushpins()}},{key:"project",value:function(e){var t,i,n,s=e.marker.intersectPoint,o=this.viewer.navigation.getScreenViewport(),a=this.tmpVec.copy(s);return t=a,i=e.findModel(this.viewer),(n=null==i?void 0:i.getModelTransform())&&t.applyMatrix4(n),this.tmpMatrix.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),e.visible&&(this.tmpFrustum.setFromProjectionMatrix(this.tmpMatrix),this.tmpFrustum.containsPoint(a)?this.showMarker(e.marker):this.hideMarker(e.marker)),a.applyProjection(this.tmpMatrix),new THREE.Vector3(Math.round((a.x+1)/2*o.width),Math.round((1-a.y)/2*o.height),a.z)}},{key:"unproject",value:function(e){var t=this.viewer.navigation.getScreenViewport(),i=new THREE.Vector3;return i.x=e.x/t.width*2-1,i.y=-(e.y/t.height*2-1),i.z=e.z,i.unproject(this.camera),i}},{key:"initNewPushpin",value:function(e){e.intersectPoint=e.data.position,this.pushpins.push(e),this.createMarker(e),e.draggable?this.enableDragging(e):this.disableDragging(e),e.visible?this.showMarker(e.marker):this.hideMarker(e.marker)}},{key:"fetchExternalId",value:function(e,t,i){var n=this;return new Promise((function(s,o){e.getProperties2(t,(function(t){var o=t.externalId;if(o.startsWith("[")&&o.endsWith("]"))try{var a=JSON.parse(o);Array.isArray(a)&&(o=a[a.length-1])}catch(e){console.error("Error "+e+" parsing externalId ",o)}if(!e.isOTG()&&"ifc"===e.getData().loadOptions.fileExt){var r=t.properties.find((function(e){return"IfcGUID"===e.displayName||"GLOBALID"===e.displayName&&"IFC"===e.displayCategory}));if(r)o=r.displayValue;else{var A=t.properties.find((function(e){return"parent"===e.displayName&&e.displayValue>-1}));if(A)return void s(n.fetchExternalId(e,A.displayValue,i))}}i(o),s()}),(function(e,t,i){Autodesk.Viewing.Private.logger.warn(t),s()}),{needsExternalId:!0})}))}},{key:"createPushpin",value:function(e){e.data.attributesVersion=2,this.initNewPushpin(e),e.setViewerState(function(e,t){var i=e.model?e.model.getData().globalOffset:null,n=e.getState(),s=JSON.parse(JSON.stringify(n));s.seedURN=t.getSeedUrn()||n.seedURN,i&&(A(s.viewport,i),l(s.cutplanes,i),s.globalOffset=i);var o=t.findModel(e),a=null==o?void 0:o.getModelTransform();return a&&p(s,a.clone().invert()),s}(this.viewer,e)),this.selectPushpin(e);var t=this.viewer.impl.clientToViewport(e.marker.position.x,e.marker.position.y),i=this.viewer.impl.castRayViewport(t,!1);if(i){e.setObjectId(i.dbId),e.setObjectData(i);var n=e.findModel(this.viewer);return n?this.fetchExternalId(n,i.dbId,(function(t){return e.setExternalId(t)})):(console.error("Failed to assign externalId: The model for this PushPin is not loaded."),Promise.resolve())}return Promise.resolve()}},{key:"loadPushpin",value:function(e){return this.initNewPushpin(e),Promise.resolve()}},{key:"createMarker",value:function(e){var t=this.getDocument().createElement("div");if(e.marker=t,t.id=e.data.id,t.intersectPoint=e.intersectPoint,e.hasPosition()){var i="rfis"===e.data.type?"rfi-billboard-marker":"pushpin-billboard-marker";t.classList.add(i),t.style.backgroundColor=f[e.data.status],this.viewer.container.appendChild(t),this.setMarkerPosition(e);var n=e.marker.position.x-15,s=e.marker.position.y-15;e.marker.style.transform="translate(".concat(n,"px, ").concat(s,"px)")}else this.hideMarker(t),e.visible=!1}},{key:"removePushpin",value:function(e){var t=this;this.pushpins=this.pushpins.filter((function(i){return t.selectedPushpin&&t.selectedPushpin.data.id===e.data.id&&(t.selectedPushpin=null),i.data.id!==e.data.id})),this.destroyMarker(e)}},{key:"removeAll",value:function(){var e=this;this.pushpins.forEach((function(t){e.removePushpin(t)}))}},{key:"destroyMarker",value:function(e){this.destroyLabel(e),this.viewer.container.removeChild(e.marker),e.marker=void 0}},{key:"destroyLabel",value:function(e){e.label&&(e.marker.removeChild(e.label.container),e.label=void 0)}},{key:"setMarkerPosition",value:function(e){e.marker.position=this.project(e)}},{key:"updateStyle",value:function(e,t,i){f[e]=i,this.dirty=!0}},{key:"castRay",value:function(e){var t=parseInt(e.data.objectId,10);if(!isNaN(t)&&-1!==t){var i=this.viewer.impl.clientToViewport(e.marker.position.x,e.marker.position.y),n=this.viewer.impl.castRayViewport(i,!1);if(n&&n.dbId){if(e.data.externalId)return this.fetchExternalId(n.model,n.dbId,(function(t){e&&e.marker&&e.data&&(e.marker.style.opacity=t===e.data.externalId?"1.0":"0.15")}));e.data.objectId&&-1!==parseInt(e.data.objectId,10)&&(e.marker.style.opacity=n.dbId===parseInt(e.data.objectId,10)?"1.0":"0.15")}else e.marker.style.opacity="0.15"}}},{key:"updatePushpins",value:function(){var e=this;this.updateTimestamp++,this.raycastThrottle(),this.pushpins.forEach((function(t){e.setMarkerPosition(t)})),this.pushpins.forEach((function(t){var i=t.selected?38:g,n=t.marker.position.x-i/2,s=t.marker.position.y-i/2;t.marker.style.transform="translate(".concat(n,"px, ").concat(s,"px)"),e.dirty&&(t.label&&t.label.update(t.data.label),t.draggable?e.enableDragging(t):e.disableDragging(t),t.marker.style.backgroundColor=f[t.data.status],t.visible?e.showMarker(t.marker):e.hideMarker(t.marker))})),this.dirty=!1}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"selectPushpin",value:function(e){this.deselect(),this.viewer.clearSelection(),e.label=new K(e.marker,e.data.label),e.marker.classList.add("selected"),this.selectedPushpin=e}},{key:"deselect",value:function(){this.selectedPushpin&&(this.destroyLabel(this.selectedPushpin),this.selectedPushpin.marker.style.pointerEvents="none",this.selectedPushpin.marker.classList.remove("selected"),this.selectedPushpin=null)}},{key:"enableDragging",value:function(e){this.selectedPushpin&&this.selectedPushpin.data.id===e.data.id&&(e.marker.style.pointerEvents="auto"),e.marker.style.backgroundImage=v}},{key:"disableDragging",value:function(e){var t=e||this.selectedPushpin;t.marker.style.pointerEvents="none",t.marker.style.backgroundImage="none",t.draggable=!1}},{key:"hideLabel",value:function(){this.selectedPushpin&&this.selectedPushpin.label.hide()}},{key:"showMarker",value:function(e){e.style.display=""}},{key:"hideMarker",value:function(e){e.style.display="none"}},{key:"showMarkers",value:function(){var e=this;this.pushpins.forEach((function(t){t.visible?e.project(t):e.hideMarker(t.marker)}))}},{key:"hideMarkers",value:function(){var e=this;this.pushpins.forEach((function(t){e.hideMarker(t.marker)})),this.selectedPushpin&&this.destroyLabel(this.selectedPushpin)}},{key:"handleButtonDown",value:function(e,t){return!1}},{key:"handleButtonUp",value:function(e,t){return!1}},{key:"handleResize",value:function(){this.updatePushpins()}}],i&&re(t.prototype,i),e}();function ue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Ae.GlobalManagerMixin.call(le.prototype),AutodeskNamespace("Autodesk.BIM360.Extension.PushPin").PushPinBillboardTool3D=le;var he=Autodesk.Viewing,ce=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.setGlobalManager(this.viewer.globalManager),this.pushPinManager=i,this.pushpinDirty=!1,this.selectedItem=null,this.onSectionBind=function(e){return n.onSection(e)},this.onSelectedChangedBind=function(e){return n.onSelectedChanged(e)},this.onRemoveBind=function(e){return n.onRemove(e)},this.onRemoveAllBind=function(e){return n.onRemoveAll(e)},this.onModifyBind=function(e){return n.onModify(e)},this.onUpdateBind=function(e){return n.onUpdate(e)},this.createBind=function(e){return n.create(e)},this.onVisibilityChangedBind=function(e){return n.onVisibilityChanged(e)}}var t,i;return t=e,i=[{key:"register",value:function(){this.pushpinBillboardTool=new le(this.viewer,this.pushPinManager.options),this.viewer.toolController.registerTool(this.pushpinBillboardTool)}},{key:"deregister",value:function(){this.pushpinBillboardTool&&(this.viewer.toolController.deregisterTool(this.pushpinBillboardTool),this.pushpinBillboardTool=null)}},{key:"activate",value:function(){return this.pushpinBillboardTool.isActive()||this.viewer.toolController.activateTool("pushpinBillboard3D"),this.inputHandler=new ie(this),this.viewer.addEventListener(Autodesk.Viewing.CUTPLANES_CHANGE_EVENT,this.onSectionBind),this.pushPinManager.addEventListener(r.PUSH_PIN_SELECTED_EVENT,this.onSelectedChangedBind),this.pushPinManager.addEventListener(r.PUSH_PIN_REMOVED_EVENT,this.onRemoveBind),this.pushPinManager.addEventListener(r.PUSH_PIN_REMOVE_ALL_EVENT,this.onRemoveAllBind),this.pushPinManager.addEventListener(r.PUSH_PIN_MODIFY_EVENT,this.onModifyBind),this.pushPinManager.addEventListener(r.PUSH_PIN_UPDATE_EVENT,this.onUpdateBind),this.pushPinManager.addEventListener(r.PUSH_PIN_VISIBILITY_EVENT,this.onVisibilityChangedBind),this.pushPinManager.setCreateFunction(this.createBind),!0}},{key:"deactivate",value:function(){this.pushpinBillboardTool.isActive()&&this.viewer.toolController.deactivateTool("pushpinBillboard3D"),this.inputHandler.detach(),this.viewer.removeEventListener(Autodesk.Viewing.CUTPLANES_CHANGE_EVENT,this.onSectionBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_SELECTED_EVENT,this.onSelectedChangedBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_REMOVED_EVENT,this.onRemoveBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_REMOVE_ALL_EVENT,this.onRemoveAllBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_MODIFY_EVENT,this.onModifyBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_UPDATE_EVENT,this.onUpdateBind),this.pushPinManager.removeEventListener(r.PUSH_PIN_VISIBILITY_EVENT,this.onVisibilityChangedBind),this.pushPinManager.removeCreateFunction(this.createBind)}},{key:"setPushpinDirty",value:function(){this.pushpinDirty=!0}},{key:"onSelectedChanged",value:function(e){if(e.value)this.selectedItem=e.value,this.selectedItem.marker||this.create(this.selectedItem),this.pushpinBillboardTool.selectPushpin(this.selectedItem),i=this.viewer,n=this.selectedItem,s=this.pushPinManager.restoreViewerStateImmediate,n.data&&n.data.viewerState&&function(){for(var e=function(e,t){var i=e.model?e.model.getData().globalOffset:null,n=JSON.parse(JSON.stringify(t.data.viewerState));if(i){var s={x:-i.x,y:-i.y,z:-i.z};A(n.viewport,s),t.getAttributesVersion()>=2&&l(n.cutplanes,s)}var o=t.findModel(e),a=null==o?void 0:o.getModelTransform();return a&&p(n,a),n.objectSet||(n.objectSet=[]),n}(i,n),t=i.getVisibleModels(),o=function(i){for(var n=t[i].getSeedUrn(),s=1===t.length,o=0;o<e.objectSet.length;o++)if(!e.objectSet[o].seedUrn&&s||e.objectSet[o].seedUrn===n||e.seedURN===n)for(var a=e.objectSet[o].isolated,r=0;r<a.length;r++)t[i].isNodeExists(a[r])||(e.objectSet[o].isolated.splice(r,1),r--)},a=0;a<t.length;a++)o(a);i.restoreState(e,null,s);var r=i.navigation;r&&(r.updateCamera(),r.getCamera().updateMatrixWorld())}(),this.selectedItem.draggable&&this.enableItemDragging(this.selectedItem),this.viewer.dispatchEvent({type:r.PUSH_PIN_SELECTED_EVENT});else{this.deselectItem(),this.pushpinBillboardTool.deselect();var t=this.viewer.getExtension("Autodesk.Section");t&&1===t.getSectionPlanes().length?t.setSectionFromPlane(null):this.viewer.impl.setCutPlaneSet("__set_view",void 0)}var i,n,s;this.setPushpinDirty()}},{key:"deselectItem",value:function(){this.selectedItem=null,this.inputHandler.detach()}},{key:"onRemove",value:function(e){this.selectedItem&&e.value.data.id===this.selectedItem.data.id&&this.deselectItem(),e.value&&e.value.marker&&this.pushpinBillboardTool.removePushpin(e.value)}},{key:"onRemoveAll",value:function(){this.deselectItem(),this.pushpinBillboardTool.removeAll()}},{key:"onModify",value:function(){this.pushpinDirty=!0}},{key:"onVisibilityChanged",value:function(){this.pushpinBillboardTool.showMarkers()}},{key:"onUpdate",value:function(){var e=this;setTimeout((function(){e.setPushpinDirty(),e.pushpinBillboardTool&&e.pushpinBillboardTool.setDirty();var t=e.pushPinManager?e.pushPinManager.getSelectedItem():null;t&&(t.draggable&&t.marker?e.enableItemDragging(t):e.disableItemDragging(t))}),1)}},{key:"enableItemDragging",value:function(e){this.pushpinBillboardTool.enableDragging(e),this.inputHandler.attachTo(e.marker)}},{key:"disableItemDragging",value:function(e){this.pushpinBillboardTool.disableDragging(e),this.inputHandler.detach()}},{key:"onSection",value:function(){}},{key:"create",value:function(e){return this.createRenderItem(e,Autodesk.Viewing.isIOSDevice())}},{key:"createRenderItem",value:function(e,t){var i,n=e.data.id.length>20;return n||this.pushpinBillboardTool.deselect(),n&&!t?i=this.pushpinBillboardTool.loadPushpin(e):(i=this.pushpinBillboardTool.createPushpin(e),this.pushPinManager.selectOne(e.data.id)),i}},{key:"updatePattern",value:function(e,t,i){this.pushpinBillboardTool.updateStyle(e,t,i),this.setPushpinDirty()}},{key:"render",value:function(){var e=this;this.pushPinManager&&this.viewer.model&&(this.pushPinManager.items().reverse().forEach((function(t){t.marker||e.createRenderItem(t,!1)})),this.pushpinDirty&&(this.pushpinBillboardTool.updatePushpins(),this.pushpinDirty=!1))}},{key:"findIntersections",value:function(e){var t=e.clientX,i=e.clientY,n=null;return this.pushPinManager.items().some((function(e){if(e.selectable&&e.marker){var s=e.marker.getBoundingClientRect();if(t>s.left&&t<s.left+s.width&&i>s.top&&i<s.top+s.height)return n=e,!0}return!1})),n}},{key:"handleMouseMove",value:function(e){var t=this;if(this.selectedItem.marker.startDragging){this.newX||(this.selectedItem.marker.style.transform="translate(0px, 0px)");var i=function(e){if(e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};var i=t.getDocument();return{x:e.clientX+i.body.scrollLeft-i.body.clientLeft,y:e.clientY+i.body.scrollTop-i.body.clientTop}}(e);this.newX=i.x-this.mouseOffset.x,this.newY=i.y-this.mouseOffset.y;var n=this.viewer.navigation.getScreenViewport(),s=this.selectedItem.marker.clientWidth,o=this.selectedItem.marker.clientHeight;this.newX<5&&(this.newX=0),this.newY<5&&(this.newY=0),n.width-5<this.newX+s&&(this.newX=n.width-s),n.height-5<this.newY+o&&(this.newY=n.height-o),this.selectedItem.marker.style.left="".concat(this.newX,"px"),this.selectedItem.marker.style.top="".concat(this.newY,"px");var a=this.viewer.impl.clientToViewport(this.newX+this.offsetWidth/2,this.newY+this.offsetWidth/2);this.viewer.impl.castRayViewport(a,!1)||this.pushPinManager.isPseudo2D?this.selectedItem.marker.classList.remove("grey-out"):this.selectedItem.marker.classList.add("grey-out"),this.selectedItem.marker.dragging=!0}}},{key:"handleMouseUp",value:function(e){var t=this;if(this.selectedItem.marker.dragging){var i;this.selectedItem.marker.style.left="0px",this.selectedItem.marker.style.top="0px",this.selectedItem.marker.style.transform="translate(".concat(this.newX,"px, ").concat(this.newY,"px)"),this.newX+=this.offsetWidth/2,this.newY+=this.offsetWidth/2,(i=this.pushPinManager.isPseudo2D?{point:this.viewer.impl.intersectGround(this.newX,this.newY)}:this.viewer.impl.clientToWorld(this.newX,this.newY))&&(this.selectedItem.data.position=new THREE.Vector3(i.point.x,i.point.y,i.point.z),T(this.selectedItem.data.position,i.model),this.selectedItem.setSeedUrn(i.model.getSeedUrn())),this.pushpinBillboardTool.removePushpin(this.selectedItem);var n=this.createRenderItem(this.selectedItem,!0);i&&n.then((function(){return t.pushPinManager.generateThumbnail(t.selectedItem)})).then((function(e){t.pushPinManager.fireEvent({type:r.PUSH_PIN_MODIFY_EVENT,value:t.selectedItem,thumbnail:e})})),this.selectedItem.marker.startDragging=!1,this.selectedItem.marker.dragging=!1,this.onUpdate()}else this.selectedItem.marker.startDragging=!1}},{key:"handleMouseDown",value:function(e){"textarea"!==e.target.tagName.toLowerCase()&&(this.offsetWidth=this.selectedItem.selected?38:g,this.mouseOffset=function(e,t){var i=function(e){for(var t=0,i=0;e.offsetParent;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:t+=e.offsetLeft,y:i+=e.offsetTop}}(e);return i.x+=t/2,i.y+=t/2,{x:i.x,y:i.y}}(this.viewer.container,this.offsetWidth),this.selectedItem.marker.style.opacity="1.0",this.newX=null,this.newY=null,this.selectedItem.marker.startDragging=!0)}}],i&&ue(t.prototype,i),e}();function de(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}he.GlobalManagerMixin.call(ce.prototype);var pe=Autodesk.Viewing,fe=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setGlobalManager(t.globalManager),this.names=["pushpin"],this.priority=45,this.pushpinCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNpi/P//PwMlgJGR0QBIfQCa84ASc5gYKAcTgDiBUkOo4RCqgFGHjDpk1CGjDhl1yKhDRoxDGIFYgcJqPAVK3yHXAGBbxoEF1KgBYgcKHPIHiEHmHKCgcaXASIUWWgPIIyBfjSbWUYeMOmTUIaMOGXXIqEOGVMOICs0AUMNKAGjOBUrMAQgwAFWiHzqojsmJAAAAAElFTkSuQmCC)16 16, auto",this.isActive=!1,this.pushPinInitData=null,this.viewer=t,this.pushPinManager=i,this.createMode=!1,this.testId="1111122222333334444455555",this.autoCreate=!1}var t,i,n;return t=e,n=[{key:"convertEventHammerToMouse",value:function(e){e.shiftKey=!1,e.clientX=e.pointers[0].clientX,e.clientY=e.pointers[0].clientY}}],(i=[{key:"getNames",value:function(){return this.names}},{key:"getName",value:function(){return this.names[0]}},{key:"getPriority",value:function(){return this.priority}},{key:"setAutoCreate",value:function(e){this.autoCreate=e}},{key:"getCursor",value:function(){return this.createMode?this.pushpinCursor:this.isHover?"pointer":null}},{key:"register",value:function(){this.renderTool||(this.pushPinManager.is2D?this.renderTool=new oe(this.viewer,this.pushPinManager):this.renderTool=new ce(this.viewer,this.pushPinManager),this.renderTool.register())}},{key:"deregister",value:function(){this.renderTool&&(this.renderTool.deregister(),this.renderTool=null)}},{key:"activate",value:function(e,t){e===this.getName()&&(this.renderTool.activate(),this.isActive=!0)}},{key:"deactivate",value:function(e){e===this.getName()&&(this.show(!1),this.isActive=!1)}},{key:"update",value:function(){return this.isActive&&this.duringShowing&&this.renderTool&&this.renderTool.render(),!1}},{key:"show",value:function(e){this.duringShowing=e}},{key:"enablePushPinSelect",value:function(e){this.pushPinManager.items().forEach((function(t){t.selectable=e}))}},{key:"startCreateItem",value:function(e){if(this.isActive){var t=this.viewer.toolController;t&&t.getActiveToolName()!==this.getName()&&(t.deactivateTool(this.getName()),t.activateTool(this.getName())),this.duringShowing||this.show(!0),this.pushPinInitData=e,this.createMode=!0,this.enablePushPinSelect(!1)}this.viewer.dispatchEvent({type:r.PUSH_PIN_SELECTED_EVENT})}},{key:"endCreateItem",value:function(){this.pushPinInitData=null,this.createMode&&(this.createMode=!1,this.enablePushPinSelect(!0))}},{key:"createThreePushPin",value:function(e){var t,i,n=null,s=e.canvasX,o=e.canvasY;return(t=this.pushPinManager.isPseudo2D?{point:this.viewer.impl.intersectGround(s,o)}:this.viewer.impl.clientToWorld(s,o))&&this.pushPinInitData&&(this.pushPinInitData.position=new THREE.Vector3(t.point.x,t.point.y,t.point.z),T(this.pushPinInitData.position,t.model),this.pushPinInitData.seedURN=null===(i=t.model)||void 0===i?void 0:i.getSeedUrn(),n=this.pushPinManager.createItem(this.pushPinInitData),this.pushPinInitData=null),n}},{key:"createTwoPushPin",value:function(e){var t=null,i=e.canvasX,n=e.canvasY,s=C(this.viewer,i,n);return s&&this.pushPinInitData&&(this.pushPinInitData.position={x:s.x,y:s.y,z:s.z},t=this.pushPinManager.createItem(this.pushPinInitData),this.pushPinInitData=null),t}},{key:"createPushPin",value:function(e){return this.autoCreate&&!this.pushPinInitData&&(this.pushPinInitData={id:this.testId+"1",status:"issues-open",type:"issues"}),!!this.pushPinInitData&&(this.pushPinManager.is2D?this.createTwoPushPin(e):this.createThreePushPin(e))}},{key:"handleSingleTap",value:function(t){return e.convertEventHammerToMouse(t),this.handleSingleClick(t,0)}},{key:"triggerPushpinClick",value:function(e){this.pushPinManager.selectOne(e.data.id),this.pushPinManager.fireEvent({type:r.PUSH_PIN_CLICKED_EVENT,value:this.pushPinManager.getSelectedItem()})}},{key:"checkPushpinClick",value:function(e){return this.renderTool.findIntersections(e)}},{key:"handleSingleClick",value:function(e,t){var i=this.checkPushpinClick(e),n=!1;if(this.createMode||(i?(this.triggerPushpinClick(i),n=!0):this.pushPinManager.selectedItem&&(this.pushPinManager.selectNone(),this.pushPinManager.fireEvent({type:r.PUSH_PIN_SELECT_NONE,value:null}))),this.isActive&&0===t){if(!i)return this.createPushPin(e);n||this.triggerPushpinClick(i)}if(i){var s=this;this.addDocumentEventListener("click",(function e(t){t.stopPropagation(),s.removeDocumentEventListener("click",e,!0)}),!0)}return!!i}},{key:"handleMouseMove",value:function(e){var t=this.checkPushpinClick(e);return this.isHover=!!t,this.pushPinManager.selectedItem&&this.pushPinManager.selectedItem.draggable||this.pushPinManager.hoverLocations(e),!1}}])&&de(t.prototype,i),n&&de(t,n),e}();function ve(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}pe.GlobalManagerMixin.call(fe.prototype),AutodeskNamespace("Autodesk.BIM360.Extension.PushPin").PushPinTool=fe;var ge=Autodesk.Viewing,me=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.setGlobalManager(t.globalManager),this.extension=i,this.pushpinVisBtn=null,this.initiallyHidePushpins=n,this.setButtonConstants()}var t,i;return t=e,(i=[{key:"setButtonConstants",value:function(){this.buttonConstants={btnClass:"",btnLabel:"",noPushpinLabel:"",hidePushpinLabel:"",showPushpinLabel:"",pushpinNormalIcon:"",pushpinHideIcon:""},this.type=""}},{key:"createButton",value:function(){var e=new Autodesk.Viewing.UI.Button(this.buttonConstants.btnClass);return e.setGlobalManager(this.globalManager),e.setToolTip(Autodesk.Viewing.i18n.translate(this.buttonConstants.btnLabel)),e.setIcon(this.buttonConstants.pushpinNormalIcon),e.onClick=function(){var t=e.getState();t!==Autodesk.Viewing.UI.Button.State.DISABLED&&e.setState(t===Autodesk.Viewing.UI.Button.State.INACTIVE?Autodesk.Viewing.UI.Button.State.ACTIVE:Autodesk.Viewing.UI.Button.State.INACTIVE)},e}},{key:"onPushpinVisBtnStateChange",value:function(e){if(e.state!==Autodesk.Viewing.UI.Button.State.DISABLED){var t=e.state===Autodesk.Viewing.UI.Button.State.ACTIVE&&!this.initiallyHidePushpins;this.initiallyHidePushpins&&(this.pushpinVisBtn.setState(Autodesk.Viewing.UI.Button.State.INACTIVE),this.initiallyHidePushpins=!1),t?(this.extension.tool.show(!0),this.extension.showByType(this.type),this.pushpinVisBtn.setToolTip(Autodesk.Viewing.i18n.translate(this.buttonConstants.hidePushpinLabel)),this.pushpinVisBtn.setIcon(this.buttonConstants.pushpinNormalIcon)):(this.extension.hideByType(this.type),this.pushpinVisBtn.setToolTip(Autodesk.Viewing.i18n.translate(this.buttonConstants.showPushpinLabel)),this.pushpinVisBtn.setIcon(this.buttonConstants.pushpinHideIcon))}else this.pushpinVisBtn.setToolTip(Autodesk.Viewing.i18n.translate(this.buttonConstants.noPushpinLabel))}},{key:"addButton",value:function(){var e=this;if(!this.pushpinVisBtn&&this.viewer.getToolbar){var t=this.viewer.getToolbar();if(t){var i=t.getControl(Autodesk.Viewing.TOOLBAR.MODELTOOLSID);if(!i){var n=t.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID),s={};s.index=n?t.indexOf(n)+1:0,(i=new Autodesk.Viewing.UI.ControlGroup(Autodesk.Viewing.TOOLBAR.MODELTOOLSID)).setGlobalManager(this.globalManager),t.addControl(i,s)}this.pushpinVisBtn=this.createButton(),this.pushpinVisBtn.addEventListener(Autodesk.Viewing.UI.Button.Event.STATE_CHANGED,(function(t){e.onPushpinVisBtnStateChange(t)})),this.updateButtonStatus(),i.addControl(this.pushpinVisBtn),this.extension.pushPinManager.addEventListener(r.PUSH_PIN_REMOVED_EVENT,(function(){e.updateButtonStatus()})),this.extension.pushPinManager.addEventListener(r.PUSH_PIN_REMOVE_ALL_EVENT,(function(){e.updateButtonStatus()})),this.extension.pushPinManager.addEventListener(r.PUSH_PIN_CREATED_EVENT,(function(){e.updateButtonStatus()})),this.extension.pushPinManager.addEventListener(r.PUSH_PIN_ITEMS_LOADED,(function(){e.updateButtonStatus()})),this.extension.pushPinManager.addEventListener(r.PUSH_PIN_PREPARING_THUMBNAIL,(function(){e.updateButtonStatus()})),this.extension.pushPinManager.addEventListener(r.PUSH_PIN_ITEMS_LOADED,(function(){e.updateButtonStatus()}))}}}},{key:"updateButtonStatus",value:function(){if(this.pushpinVisBtn)if(this.extension.tool.createMode)this.pushpinVisBtn.getState()!==Autodesk.Viewing.UI.Button.State.DISABLED&&this.pushpinVisBtn.setState(Autodesk.Viewing.UI.Button.State.DISABLED);else{var e=this.extension.pushPinManager.getItemCountByType(this.type),t=this.pushpinVisBtn.getState()===Autodesk.Viewing.UI.Button.State.DISABLED;e>0&&t?this.pushpinVisBtn.setState(Autodesk.Viewing.UI.Button.State.ACTIVE):0!==e||t||this.pushpinVisBtn.setState(Autodesk.Viewing.UI.Button.State.DISABLED)}}},{key:"destroyButton",value:function(){this.pushpinVisBtn&&(this.extension.pushPinManager.removeEventListener(r.PUSH_PIN_REMOVED_EVENT,this.updateButtonStatus),this.extension.pushPinManager.removeEventListener(r.PUSH_PIN_REMOVE_ALL_EVENT,this.updateButtonStatus),this.extension.pushPinManager.removeEventListener(r.PUSH_PIN_CREATED_EVENT,this.updateButtonStatus),this.viewer.getToolbar()&&this.pushpinVisBtn.removeFromParent(),this.pushpinVisBtn.removeEventListener(Autodesk.Viewing.UI.Button.Event.STATE_CHANGED,this.onPushpinVisBtnStateChange),this.pushpinVisBtn=null)}},{key:"pushPinButton",get:function(){return this.pushpinVisBtn}}])&&ve(t.prototype,i),e}();function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t){return Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ee(e,t)}function we(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}ge.GlobalManagerMixin.call(me.prototype);var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(a,e);var t,i,n,s,o=(n=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(n);if(s){var i=Be(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return we(this,e)});function a(e,t,i){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t,i)).viewer=e,n.extension=t,n.pushpinVisBtn=null,n.setButtonConstants(),n}return t=a,(i=[{key:"setButtonConstants",value:function(){this.buttonConstants={btnClass:"toolbar-pushpinVis",btnLabel:"Show all pushpins",noPushpinLabel:"No issue in current doc",hidePushpinLabel:"Hide all issues",showPushpinLabel:"Show all issues",pushpinNormalIcon:"issueicon-issue_normal",pushpinHideIcon:"issueicon-issue_hide"},this.type=this.extension.pushPinManager.PushPinTypes.ISSUES}}])&&be(t.prototype,i),a}(me);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function ke(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t){return Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ce(e,t)}function Me(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(a,e);var t,i,n,s,o=(n=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Se(n);if(s){var i=Se(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Me(this,e)});function a(e,t,i){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t,i)).viewer=e,n.extension=t,n.pushpinVisBtn=null,n.setButtonConstants(),n}return t=a,(i=[{key:"setButtonConstants",value:function(){this.buttonConstants={btnClass:"toolbar-pushpinRfisVis",btnLabel:"Show all rfis",noPushpinLabel:"No RFI in current doc",hidePushpinLabel:"Hide all RFIs",showPushpinLabel:"Show all RFIs",pushpinNormalIcon:"rfiicon-rfi_normal",pushpinHideIcon:"rfiicon-rfi_hide"},this.type=this.extension.pushPinManager.PushPinTypes.RFIS}}])&&ke(t.prototype,i),a}(me);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function xe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e,t){return De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},De(e,t)}function Re(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,e);var t,i,n,s,o=(n=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ve(n);if(s){var i=Ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Re(this,e)});function a(e,t,i){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t,i)).viewer=e,n.extension=t,n.pushpinVisBtn=null,n.setButtonConstants(),n}return t=a,(i=[{key:"setButtonConstants",value:function(){this.buttonConstants={btnClass:"toolbar-pushpinFieldIssuesVis",btnLabel:"Show all field pushpins",noPushpinLabel:"No field issue in current doc",hidePushpinLabel:"Hide all field issues",showPushpinLabel:"Show all field issues",pushpinNormalIcon:"fieldissueicon-issue_normal",pushpinHideIcon:"fieldissueicon-issue_hide"},this.type=this.extension.pushPinManager.PushPinTypes.QUALITY_ISSUES}}])&&xe(t.prototype,i),a}(me);function Ge(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ue=Autodesk.Viewing.getGlobal(),Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pushpinManager=t,this.addListeners()}var t,i,n;return t=e,n=[{key:"postMessage",value:function(e,t){var i=t.value,n=t.thumbnail||"",s={};i&&(s={id:i.data.id,label:i.data.label,status:i.data.status,position:{x:i.data.position.x,y:i.data.position.y,z:i.data.position.z},type:i.data.type,objectId:i.data.objectId,externalId:i.data.externalId,viewerState:i.data.viewerState,attributesVersion:i.getAttributesVersion(),locationIds:i.data.locationIds||[]}),void 0!==Ue.webkit?Ue.webkit.messageHandlers.callbackHandler.postMessage({command:e,data:{metadata:s,thumbnail:n}}):Ue.JSINTERFACE&&(i?Ue.JSINTERFACE[e](s.id,s.type,s.label,s.status,s.position.x,s.position.y,s.position.z,s.objectId,JSON.stringify(s.viewerState),s.externalId,s.attributesVersion,JSON.stringify(s.locationIds),n):Ue.JSINTERFACE[e]())}}],(i=[{key:"addListeners",value:function(){this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_CREATED_EVENT,(function(t){e.postMessage("onPushPinCreated",t)})),this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_PREPARING_THUMBNAIL,(function(t){e.postMessage("onPushPinPreparingThumbnail",t)})),this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_CLICKED_EVENT,(function(t){e.postMessage("onPushPinActived",t)})),this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_MODIFY_EVENT,(function(t){e.postMessage("onPushPinMoved",t)})),this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_SELECT_NONE,(function(t){e.postMessage("onPushPinSelectNone",t)})),this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_UPDATE_EVENT,(function(t){e.postMessage("onPushPinUpdated",t)})),this.pushpinManager.addEventListener(Autodesk.BIM360.Extension.PushPin.PUSH_PIN_ITEMS_LOADED,(function(t){e.postMessage("onPushPinItemsLoaded",t)})),e.postMessage("onPushPinToolLoaded",{})}}])&&Ge(t.prototype,i),n&&Ge(t,n),e}(),_e=function(e,t){if(e.viewerState){var i=w(t,e.viewerState.seedUrn);i&&function(e,t){var i=function(e){var t=e&&e.myData.metadata["world bounding box"],i=new THREE.Box3;return i.min.fromArray(t.minXYZ),i.max.fromArray(t.maxXYZ),i}(e);if(i.distanceToPoint(t.position)*e.getUnitScale()<100)return!1;var n=e.getBoundingBox(),s=(new THREE.Vector3).copy(t.position);return t.viewerState&&t.viewerState.globalOffset&&s.sub(t.viewerState.globalOffset),n.containsPoint(s)}(i,e)&&function(e,t){var i=e.myData.placementTransform,n=i&&i.clone().invert();i&&t.viewerState&&(t.position=(new THREE.Vector3).copy(t.position).applyMatrix4(n),t.viewerState=JSON.parse(JSON.stringify(t.viewerState)),p(t.viewerState,n))}(i,e)}},Le={en:JSON.parse('{"@@locale":"en","@@context":"Pushpins Extension","No issue in current doc":"No issue in current doc","Show all issues":"Show all issues","Hide all issues":"Hide all issues","No RFI in current doc":"No RFI in current doc","Show all RFIs":"Show all RFIs","Hide all RFIs":"Hide all RFIs","No field issue in current doc":"No field issue in current doc","Show all field issues":"Show all field issues","Hide all field issues":"Hide all field issues"}'),"en-GB":JSON.parse('{"@@locale":"en","@@context":"Pushpins Extension","No issue in current doc":"No Issue in Current Doc","Show all issues":"Show All Issues","Hide all issues":"Hide All Issues","No RFI in current doc":"No RFI in Current Doc","Show all RFIs":"Show all RFIs","Hide all RFIs":"Hide all RFIs","No field issue in current doc":"No Field Issue in Current Doc","Show all field issues":"Show All Field Issues","Hide all field issues":"Hide All Field Issues"}'),cs:JSON.parse('{"@@locale":"cs","@@context":"Rozen Pushpins","No issue in current doc":"V aktulnm dokumentu nen problm.","Show all issues":"Zobrazit vechny problmy","Hide all issues":"Skrt vechny problmy","No RFI in current doc":"V aktulnm dokumentu neexistuje soubor RFI.","Show all RFIs":"Zobrazit vechny soubory RFI","Hide all RFIs":"Skrt vechny soubory RFI","No field issue in current doc":"V aktulnm dokumentu nen problm s polem.","Show all field issues":"Zobrazit vechny problmy s poli","Hide all field issues":"Skrt vechny problmy s poli"}'),de:JSON.parse('{"@@locale":"de","@@context":"Pin-Erweiterung","No issue in current doc":"Kein Mangel im aktuellen Dokument","Show all issues":"Alle Mngel anzeigen","Hide all issues":"Alle Mngel ausblenden","No RFI in current doc":"Kein RFI im aktuellen Dokument","Show all RFIs":"Alle RFIs anzeigen","Hide all RFIs":"Alle RFIs ausblenden","No field issue in current doc":"Kein Mangel vor Ort im aktuellem Dokument","Show all field issues":"Alle Mngel vor Ort anzeigen","Hide all field issues":"Alle Mngel vor Ort ausblenden"}'),es:JSON.parse('{"@@locale":"es","@@context":"Extensin de chinchetas","No issue in current doc":"No hay ninguna incidencia en el documento actual.","Show all issues":"Mostrar todas las incidencias","Hide all issues":"Ocultar todas las incidencias","No RFI in current doc":"No hay ninguna SDI en el documento actual.","Show all RFIs":"Mostrar todas las SDI","Hide all RFIs":"Ocultar todas las SDI","No field issue in current doc":"No hay ninguna incidencia de obra en el documento actual.","Show all field issues":"Mostrar todas las incidencias de obra","Hide all field issues":"Ocultar todas las incidencias de obra"}'),fr:JSON.parse('{"@@locale":"fr","@@context":"Extension des punaises","No issue in current doc":"Aucun problme dans le document actif","Show all issues":"Afficher tous les problmes","Hide all issues":"Masquer tous les problmes","No RFI in current doc":"Aucune DI dans le document actif","Show all RFIs":"Afficher toutes les DI","Hide all RFIs":"Masquer toutes les DI","No field issue in current doc":"Aucun problme de champ dans le document actif","Show all field issues":"Afficher tous les problmes de champ","Hide all field issues":"Masquer tous les problmes de champ"}'),"fr-CA":JSON.parse('{"@@locale":"fr-CA","@@context":"Extension des punaises","No issue in current doc":"Aucun problme dans le document actif","Show all issues":"Afficher tous les problmes","Hide all issues":"Masquer tous les problmes","No RFI in current doc":"Aucune QT dans le document actif","Show all RFIs":"Afficher toutes les QT","Hide all RFIs":"Masquer toutes les QT","No field issue in current doc":"Aucun problme de champ dans le document actif","Show all field issues":"Afficher tous les problmes de champ","Hide all field issues":"Masquer tous les problmes de champ"}'),it:JSON.parse('{"@@locale":"it","@@context":"Estensione Pushpin","No issue in current doc":"Nessun problema nel documento corrente","Show all issues":"Mostra tutti i problemi","Hide all issues":"Nascondi tutti i problemi","No RFI in current doc":"Nessun file RFI nel documento corrente","Show all RFIs":"Mostra tutti i file RFI","Hide all RFIs":"Nascondi tutti i file RFI","No field issue in current doc":"Nessun problema del campo nel documento corrente","Show all field issues":"Mostra tutti i problemi dei campi","Hide all field issues":"Nascondi tutti i problemi dei campi"}'),ja:JSON.parse('{"@@locale":"ja","@@context":" ","No issue in current doc":"","Show all issues":"","Hide all issues":"","No RFI in current doc":"","Show all RFIs":"","Hide all RFIs":"","No field issue in current doc":"","Show all field issues":"","Hide all field issues":""}'),ko:JSON.parse('{"@@locale":"ko","@@context":" ","No issue in current doc":"   ","Show all issues":"  ","Hide all issues":"  ","No RFI in current doc":"  RFI ","Show all RFIs":" RFI ","Hide all RFIs":" RFI ","No field issue in current doc":"    ","Show all field issues":"   ","Hide all field issues":"   "}'),pl:JSON.parse('{"@@locale":"pl","@@context":"Rozszerzenie blokad","No issue in current doc":"Brak problemu w biecym dokumencie","Show all issues":"Poka wszystkie problemy","Hide all issues":"Ukryj wszystkie problemy","No RFI in current doc":"Brak RFI w biecym dokumencie","Show all RFIs":"Poka wszystkie RFI","Hide all RFIs":"Ukryj wszystkie RFI","No field issue in current doc":"Brak problemu z polem w biecym dokumencie","Show all field issues":"Poka wszystkie problemy z polami","Hide all field issues":"Ukryj wszystkie problemy z polami"}'),"pt-BR":JSON.parse('{"@@locale":"pt","@@context":"Extenso de pinos","No issue in current doc":"Nenhum problema no documento atual","Show all issues":"Mostrar todos os problemas","Hide all issues":"Ocultar todos os problemas","No RFI in current doc":"Nenhuma RFI no documento atual","Show all RFIs":"Mostrar todas as RFIs","Hide all RFIs":"Ocultar todas as RFIs","No field issue in current doc":"Nenhum problema de campo no documento atual","Show all field issues":"Mostrar todos os problemas de campo","Hide all field issues":"Ocultar todos os problemas de campo"}'),ru:JSON.parse('{"@@locale":"ru","@@context":" Pushpins","No issue in current doc":"    ","Show all issues":"  ","Hide all issues":"  ","No RFI in current doc":"      (RFI)","Show all RFIs":"   ","Hide all RFIs":"   ","No field issue in current doc":"      ","Show all field issues":"    ","Hide all field issues":"    "}'),tr:JSON.parse('{"@@locale":"tr","@@context":"Pushpins Uzants","No issue in current doc":"Mevcut belgede sorun yok","Show all issues":"Tm sorunlar gster","Hide all issues":"Tm sorunlar gizle","No RFI in current doc":"Mevcut belgede RFI yok","Show all RFIs":"Tm RFIleri gster","Hide all RFIs":"Tm RFIleri gizle","No field issue in current doc":"Mevcut belgede alan sorunu yok","Show all field issues":"Tm alan sorunlarn gster","Hide all field issues":"Tm alan sorunlarn gizle"}'),"zh-HANS":JSON.parse('{"@@locale":"zh-Hans","@@context":"","No issue in current doc":"","Show all issues":"","Hide all issues":"","No RFI in current doc":" RFI","Show all RFIs":" RFI","Hide all RFIs":" RFI","No field issue in current doc":"","Show all field issues":"","Hide all field issues":""}'),"zh-HANT":JSON.parse('{"@@locale":"zh-Hant","@@context":"","No issue in current doc":"","Show all issues":"","Hide all issues":"","No RFI in current doc":" RFI","Show all RFIs":" RFI","Hide all RFIs":" RFI","No field issue in current doc":"","Show all field issues":"","Hide all field issues":""}'),"zh-HK":JSON.parse('{"@@locale":"zh-hk","@@context":"","No issue in current doc":"","Show all issues":"","Hide all issues":"","No RFI in current doc":" RFI","Show all RFIs":" RFI","Hide all RFIs":" RFI","No field issue in current doc":"","Show all field issues":"","Hide all field issues":""}'),nl:JSON.parse('{"@@locale":"nl","@@context":"Pushpins-extensie","No issue in current doc":"Geen probleem in huidig document","Show all issues":"Alle problemen weergeven","Hide all issues":"Alle problemen verbergen","No RFI in current doc":"Geen RFI in huidig document","Show all RFIs":"Alle RFI\'s weergeven","Hide all RFIs":"Alle RFI\'s verbergen","No field issue in current doc":"Geen veldproblemen in huidig document","Show all field issues":"Alle veldproblemen weergeven","Hide all field issues":"Alle veldproblemen verbergen"}'),sv:JSON.parse('{"@@locale":"sv","@@context":"Hftstift-tillgg","No issue in current doc":"Inga problem i aktuellt dokument","Show all issues":"Visa alla problem","Hide all issues":"Dlj alla problem","No RFI in current doc":"Ingen begran om information i aktuellt dokument","Show all RFIs":"Visa alla begranden","Hide all RFIs":"Dlj alla begranden","No field issue in current doc":"Inga fltproblem i aktuellt dokument","Show all field issues":"Visa alla fltproblem","Hide all field issues":"Dlj alla fltproblem"}'),da:JSON.parse('{"@@locale":"da","@@context":"Pushpins-filtypebetegnelse","No issue in current doc":"Ingen problemer i det aktuelle dokument","Show all issues":"Vis alle problemer","Hide all issues":"Skjul alle problemer","No RFI in current doc":"Ingen RFI i det aktuelle dokument","Show all RFIs":"Vis alle RFI\'er","Hide all RFIs":"Skjul alle RFI\'er","No field issue in current doc":"Intet feltproblem i det aktuelle dokument","Show all field issues":"Vis alle feltproblemer","Hide all field issues":"Skjul alle feltproblemer"}'),no:JSON.parse('{"@@locale":"no","@@context":"Pushpins-utvidelse","No issue in current doc":"Ingen problemer i gjeldende dok","Show all issues":"Vis alle problemer","Hide all issues":"Skjul alle problemer","No RFI in current doc":"Ingen RFI i gjeldende dok","Show all RFIs":"Vis alle RFI-er","Hide all RFIs":"Skjul alle RFI-er","No field issue in current doc":"Ingen feltproblemer i gjeldende dok","Show all field issues":"Vis alle feltproblemer","Hide all field issues":"Skjul alle feltproblemer"}')},Fe=i(93379),je=i.n(Fe),Qe=i(7795),Ye=i.n(Qe),ze=i(90569),We=i.n(ze),Je=i(3565),Ze=i.n(Je),Xe=i(19216),Ke=i.n(Xe),qe=i(44589),$e=i.n(qe),et=i(47649),tt={};function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ot(e,t)}function at(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}tt.styleTagTransform=$e(),tt.setAttributes=Ze(),tt.insert=We().bind(null,"head"),tt.domAPI=Ye(),tt.insertStyleElement=Ke(),je()(et.Z,tt),et.Z&&et.Z.locals&&et.Z.locals;var lt=AutodeskNamespace("Autodesk.BIM360.Extension.PushPin"),ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(a,Autodesk.Viewing.Extension);var t,i,n,s,o=(n=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=At(n);if(s){var i=At(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return at(this,e)});function a(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nt(this,a),(t=o.call(this,e,i)).viewer=e,t.options=i,Autodesk.Viewing.EventDispatcher.prototype.apply(rt(t)),t}return t=a,(i=[{key:"load",value:function(){return this.extendLocalization(Le),this.onModelAdded=this.onModelAdded.bind(this),this.onModelRemoved=this.onModelRemoved.bind(this),this.viewer.addEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT,this.onModelAdded),this.viewer.addEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT,this.onModelRemoved),this.viewer.getVisibleModels().length>0&&this.onModelAdded(),!0}},{key:"unload",value:function(){return this.destroyUI(),this.destroyPushpinManager(),this.destroyTool(),this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT,this.onModelAdded),this.viewer.removeEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT,this.onModelRemoved),!0}},{key:"onModelAdded",value:function(){var e=this;if(!this.pushPinManager||!this.tool||Boolean(this.viewer.impl.is2d)!==this.pushPinManager.is2D){this.initPushpinManager(),this.initTool(),this.createUI();for(var t=0,i=Object.values(r);t<i.length;t++){var n=i[t];this.pushPinManager.addEventListener(n,(function(t){return e.fireEvent(t)}))}this.fireEvent({type:ht.PUSH_PIN_MANAGER_INITIALIZED,value:this.pushPinManager})}}},{key:"onModelRemoved",value:function(){0===this.viewer.getVisibleModels().length&&(this.destroyUI(),this.destroyPushpinManager(),this.destroyTool(),this.fireEvent({type:ht.PUSH_PIN_MANAGER_DESTROYED}))}},{key:"initPushpinManager",value:function(){this.destroyPushpinManager(),this.pushPinManager=new L(this.viewer,this.options),Autodesk.Viewing.isMobileDevice()&&(this.observer=new Oe(this.pushPinManager))}},{key:"destroyPushpinManager",value:function(){this.pushPinManager&&(this.pushPinManager.selectNone(),this.pushPinManager.removeAllItems(),this.pushPinManager=null),this.observer=null}},{key:"initTool",value:function(){this.destroyTool(),this.tool=new fe(this.viewer,this.pushPinManager),this.viewer.toolController.registerTool(this.tool),this.viewer.toolController.activateTool(this.tool.getName())}},{key:"destroyTool",value:function(){this.tool&&(this.viewer.toolController.deregisterTool(this.tool),this.tool=null)}},{key:"startCreateItem",value:function(e){this.tool.startCreateItem(e),this.updateButtonsStatus(),this.pushPinManager.fireEvent({type:r.PUSH_PIN_EDIT_START_EVENT})}},{key:"endCreateItem",value:function(){this.tool.endCreateItem(),this.updateButtonsStatus(),this.pushPinManager.fireEvent({type:r.PUSH_PIN_EDIT_END_EVENT})}},{key:"showAll",value:function(){for(var e in this.pushPinManager.PushPinTypes)this.showByType(this.pushPinManager.PushPinTypes[e])}},{key:"hideAll",value:function(){for(var e in this.pushPinManager.PushPinTypes)this.hideByType(this.pushPinManager.PushPinTypes[e])}},{key:"enableItemSelect",value:function(e){this.tool.enablePushPinSelect(e)}},{key:"updatePattern",value:function(e,t,i){this.tool.renderTool.updatePattern(e,t,i)}},{key:"loadItems",value:function(e){0!==this.viewer.getVisibleModels().length?(this.viewer.model.is3d()&&console.warn("loadItems is deprecated for 3D models. Use loadItemsV2 instead."),this.tool.show(!0),this.pushPinManager.addItems(e),this.pushPinManager.fireEvent({type:r.PUSH_PIN_ITEMS_LOADED,value:null})):console.warn("model need to be loaded before using loadItems API")}},{key:"loadItemFromLocal",value:function(e,t){0!==this.viewer.getVisibleModels().length?(this.pushPinManager.addItems([e],!0,this.viewer),t||this.pushPinManager.fireEvent({type:r.PUSH_PIN_ITEMS_LOADED,value:null})):console.warn("model need to be loaded before using loadItemFromLocal API")}},{key:"loadItemsV2",value:function(e){var t=this;0!==this.viewer.getVisibleModels().length?(Array.isArray(e)||(e=[e]),this.tool.show(!0),e.forEach((function(e){t.viewer.model.is3d()?(t.legacyToLocalPushPinData(e),t.loadItemFromLocal(e,!0)):t.pushPinManager.addItems([e])})),this.pushPinManager.fireEvent({type:r.PUSH_PIN_ITEMS_LOADED,value:null})):console.warn("model need to be loaded before using loadItemsV2 API")}},{key:"updateItemById",value:function(e,t){return this.pushPinManager.updateItemById(e,t)}},{key:"getItemById",value:function(e){var t=this.pushPinManager.getItemById(e);return t?t.data:null}},{key:"setDraggableById",value:function(e,t,i){var n,s=null===(n=this.pushPinManager)||void 0===n?void 0:n.getItemById(e);s&&(i&&s.setPosition(this.origItemPosition),s.draggable=t,this.pushPinManager.fireEvent({type:r.PUSH_PIN_UPDATE_EVENT,value:s}),this.origItemPosition=Object.assign({},s.data.position),t?this.pushPinManager.fireEvent({type:r.PUSH_PIN_EDIT_START_EVENT}):this.pushPinManager.fireEvent({type:r.PUSH_PIN_EDIT_END_EVENT}))}},{key:"setVisibleById",value:function(e,t){var i=this.pushPinManager.getItemById(e);i&&(i.visible=t,this.pushPinManager.fireEvent({type:r.PUSH_PIN_UPDATE_EVENT,value:i}))}},{key:"selectOne",value:function(e,t){this.pushPinManager&&this.pushPinManager.selectOne(e,t)}},{key:"selectNone",value:function(){this.pushPinManager&&this.pushPinManager.selectNone()}},{key:"removeItemById",value:function(e){this.pushPinManager.getItemById(e)&&this.pushPinManager.removeItemById(e)}},{key:"removeItemsByType",value:function(e){this.pushPinManager.removeItemsByType(e)}},{key:"removeAllItems",value:function(){this.pushPinManager&&this.pushPinManager.removeAllItems()}},{key:"createUI",value:function(){if(this.destroyUI(),this.uiButtons=[],this.options.hideIssuesButton||this.uiButtons.push(new Ie(this.viewer,this,this.options.initiallyHideIssuesPushpins)),this.options.hideFieldIssuesButton||this.uiButtons.push(new He(this.viewer,this,this.options.initiallyHideFieldIssuesPushpins)),this.options.hideRfisButton||this.uiButtons.push(new Te(this.viewer,this,this.options.initiallyHideRfisPushpins)),this.viewer.model)this.uiButtons.forEach((function(e){e.addButton()}));else{var e=this;this.viewer.addEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,(function t(){e.viewer.model&&e.uiButtons.forEach((function(e){e.addButton()})),e.viewer.removeEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,t)}))}}},{key:"destroyUI",value:function(){this.uiButtons&&(this.uiButtons.forEach((function(e){e.destroyButton()})),this.uiButtons=null)}},{key:"updateButtonsStatus",value:function(){this.uiButtons.forEach((function(e){e.updateButtonStatus()}))}},{key:"hideByType",value:function(e){this.pushPinManager&&this.pushPinManager.setVisibleByType(e,!1)}},{key:"showByType",value:function(e){this.pushPinManager&&this.pushPinManager.setVisibleByType(e,!0)}},{key:"legacyToLocalPushPinData",value:function(e){!function(e,t){var i=e.viewerState&&e.viewerState.globalOffset;i||(i=t.model&&t.model.myData.globalOffset),i&&(e.position.x+=i.x,e.position.y+=i.y,e.position.z+=i.z)}(e,this.viewer),this.options.useLegacyFallback&&_e(e,this.viewer)}},{key:"getLegacyPushPinData",value:function(e){return function(e,t){if(!t.model||!t.model.is3d())return e.data;var i=e.getLocal(t),n=e.findModel(t);return n?(function(e,t){e.viewerState&&(e.viewerState.globalOffset=function(e){var t=e&&e.myData.metadata["world bounding box"],i=t.minXYZ,n=t.maxXYZ;return{x:.5*(i[0]+n[0]),y:.5*(i[1]+n[1]),z:.5*(i[2]+n[2])}}(t),e.position.x-=e.viewerState.globalOffset.x,e.position.y-=e.viewerState.globalOffset.y,e.position.z-=e.viewerState.globalOffset.z)}(i,n),i):(console.error("Saving issue attributes failed: Issue must be assigned to a visible model."),e.data)}(e,this.viewer)}},{key:"setRestoreViewerStateImmediate",value:function(e){this.pushPinManager&&(this.pushPinManager.restoreViewerStateImmediate=e)}}])&&st(t.prototype,i),a}(),ht={PUSH_PIN_MANAGER_INITIALIZED:"pushpin.manager.initialized",PUSH_PIN_MANAGER_DESTROYED:"pushpin.manager.destroyed"};ut.Events=ht,lt.PUSH_PIN_EXT_NAME="Autodesk.BIM360.Extension.PushPin",Object.assign(lt,r),Autodesk.Viewing.theExtensionManager.registerExtension(lt.PUSH_PIN_EXT_NAME,ut)},93379:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var o={},a=[],r=0;r<e.length;r++){var A=e[r],l=n.base?A[0]+n.base:A[0],u=o[l]||0,h="".concat(l," ").concat(u);o[l]=u+1;var c=i(h),d={css:A[1],media:A[2],sourceMap:A[3]};-1!==c?(t[c].references++,t[c].updater(d)):t.push({identifier:h,updater:s(d,n),references:1}),a.push(h)}return a}function s(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var o=n(e=e||[],s=s||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var r=i(o[a]);t[r].references--}for(var A=n(e,s),l=0;l<o.length;l++){var u=i(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=A}}},90569:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n=i.css,s=i.media,o=i.sourceMap;s?e.setAttribute("media",s):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},89133:e=>{"use strict";e.exports="data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUAAA0AAAAAByQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAE5AAAABwAAAAcfzoDmUdERUYAAATIAAAAGwAAAB4AJwALT1MvMgAAAZwAAABKAAAAYC+xTDxjbWFwAAAB+AAAAEQAAAFKwBQjvWdhc3AAAATAAAAACAAAAAj//wADZ2x5ZgAAAkgAAAFeAAABhPocpV5oZWFkAAABMAAAADAAAAA2DEAuiWhoZWEAAAFgAAAAHAAAACQEIwIFaG10eAAAAegAAAAQAAAAEgYAAABsb2NhAAACPAAAAAwAAAAMAFgAwm1heHAAAAF8AAAAHgAAACAATgBKbmFtZQAAA6gAAADjAAAB47FU88Bwb3N0AAAEjAAAADIAAABR2shGr3icY2BkYGAA4uk3ErPi+W2+MnAzMYDAVZ+8TjB9te4fkGJnYmAE0RwMYGkALxEKOXicY2BkYGD8wsDAoMfEAAJAkpEBFbAAACM+AS54nGNgZGBgYGVwZ2BnAAEmIGZkAIk5gPkMAApQAJkAAHicY2BmYmCcwMDKwMHow5jGwMDgDqW/MkgytDAwMDGwcjLAgQCCyRCQ5prC4PCA8QET44P/Dxj0GL/8/wIUZkRSosDACAAr1Q1fAAB4nGNigAAmKGZgAAAAVgAHeJzdisEJwDAQw+RLyRR59NlBuv8M2STxpaWQFSowRiCg8Kwhktum5QeXv/pFQI8xMujKP+PtjSqfyGXWG+L3TGW0BrEAAAAAAAAAAABYAMJ4nG2PvU7CUBiGv4+fcyhwSiH0HAg/ASptKLQ1LaVoDTHGOOjohAnizwW46AU4GBNnZx2dZfQKSJzYvQYHE1fi0dnhXZ68w/NAGgBoAvAWmmDDCLZhAhC5SSua0MAXhtlHF40O0ctchC6Gw5GkhBrC53qgG2EggdCDkMp9j+db7RSheV20Nmy/9nRRV6unuaDdiwOz0rLqdkml/kJhfCGYwh3HOUuYoVvMKKxS4kU1c8eb3bhnjdOdVLdas7okL3/LpcIG0+mV48Cvq1wev3ANJWhDD3zpuwcHAGgW0JSilAtKBPcjHKX/ZKmEDaRDUxgdK+IxRjIj4sI06D8N+K5q56PK8UO7GR8WCqRI8Flbv04GZdYgzX4jcY2e45WrOMfkbtTKcZFllTfBssLzPPzUtEt2sh8PjrQCIfiifvR3aN1ukDqtPmpu7h4JToxN5rHsapVl7mx247o/vPQ77AAAeJyVj8FKw0AURc+0aUAUiht3ltnLhGQgCAXd2U/IFzQtgZJAmv6KOz/IT/ET3HmnPhe6EDrwmDN37rvzBrjhFUdajiXeeEbOs/GcB96MM3k+jBdcu1vjnKV7ktNlV1JW567EM+WXxnMaXowzed6NF9zxaZyzcvec6JnoVAdatgR2DGctUMGpn7rp0G7DbuinIOHX7Y+4MTHtI3sFeSKFxvGsVf8/8u2J1DqliuqreFSs4jfDuG99LEq/9n+GkRLrUIdYVjJf+pFGrpGjOpLLy5PmpWnHYzf0virKizO/AEzyTYUAeJxjYGJABowM6IAVLMrEyMTIzJ+WmZqToptZXFyaqpuZnCeCzM9PSwOK5ecBAP6rDY8AAAAAAAH//wACeJxjYGRgYOABYjEgZmJgBEIWMAbxGAADygAzAAAAAAEAAAAA1BgWEQAAAADVTG6JAAAAANXVfv4="},11539:e=>{"use strict";e.exports="data:application/font-woff;charset=utf-8;base64,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"},24459:e=>{"use strict";e.exports="data:application/font-woff;charset=utf-8;base64,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"}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,i),o.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.b=document.baseURI||self.location.href;var n=i(51909);Autodesk.Extensions.Pushpins=n})();
//# sourceMappingURL=Pushpins.min.js.map